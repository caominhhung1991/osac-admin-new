(this["webpackJsonpreact-antd-admin"]=this["webpackJsonpreact-antd-admin"]||[]).push([[37],{2483:function(e,t,a){"use strict";var n=a(10),i=a.n(n),c=a(47),r=a(14),l=a(0),o=a.n(l),s=a(22),d=a(57),b=a(215),u=a(93),p=a(2408),m=a(353),v=a(58),h=a(349),f="https://firebasestorage.googleapis.com/v0/b/mydashboard-5f063.appspot.com/o/cmnd",O=a(2380),j=a(2381),g=a(2678),w=a(56),M=a(476),I=a(2675),x=a(2682),y=a(2420),D=a(375),k=a(21);var C=function(e){var t=e.buttonText,a=e.path,n=Object(d.b)(),c=Object(y.a)({previewVisible:!1,previewImage:"",previewTitle:"",fileList:[]}),l=Object(w.a)(c,2),o=l[0],b=l[1],u=o.previewVisible,p=o.previewImage,m=o.fileList,v=o.previewTitle;function h(){return(h=Object(r.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.url||t.preview||!t.originFileObj){e.next=4;break}return e.next=3,Object(s.getBase64)(t.originFileObj);case 3:t.preview=e.sent;case 4:b({previewImage:t.url||t.preview,previewVisible:!0,previewTitle:t.name||(null===(a=t.url)||void 0===a?void 0:a.substring(t.url.lastIndexOf("/")+1))});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var f=Object(k.c)("div",{children:[Object(k.b)(M.a,{}),Object(k.b)("div",{style:{marginTop:8},children:t||"Upload"})]});return Object(k.c)(k.a,{children:[Object(k.b)(I.a,{action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",listType:"picture-card",fileList:m,onPreview:function(e){return h.apply(this,arguments)},onChange:function(e){var t=e.fileList;b({fileList:t})},accept:".png,.jpg",customRequest:function(e){var t=e.onSuccess,c=e.onError,l=e.file,o="string"!==typeof l&&Object(s.beforeUpload)(l);setTimeout(Object(r.a)(i.a.mark((function e(){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o){e.next=8;break}return e.next=3,n(Object(D.a)({file:l,path:a}));case 3:r=e.sent,console.log(r),null===t||void 0===t||t(null,l),e.next=9;break;case 8:null===c||void 0===c||c();case 9:case"end":return e.stop()}}),e)}))),100)},children:m.length>=1?null:f}),Object(k.b)(x.a,{visible:u,title:v,footer:null,onCancel:function(){b({previewVisible:!1})},children:Object(k.b)("img",{alt:"example",style:{width:"100%"},src:p})})]})};var N=function(e){var t=e.data,a=e.imageId,n=e.title,i=e.src;return Object(k.c)("div",{children:[Object(k.c)("div",{className:"font-weight-bold",style:{marginBottom:"5px"},children:[n," ",Object(k.b)(C,{path:["cmnd",t.soCMND,a]})]}),Object(k.b)(g.a,{src:i})]})};var T=function(e){var t=e.data;return Object(k.c)(O.a,{gutter:5,children:[Object(k.b)(j.a,{sm:6,md:6,lg:6,children:Object(k.b)(N,{data:t,imageId:"anhChanDung",title:"\u1ea2nh ch\xe2n dung",src:t.anhChanDung})}),Object(k.b)(j.a,{sm:9,md:9,lg:9,children:Object(k.b)(N,{data:t,imageId:"anhMatTruoc",title:"\u1ea2nh m\u1eb7t tr\u01b0\u1edbc",src:t.anhMatTruoc})}),Object(k.b)(j.a,{sm:9,md:9,lg:9,children:Object(k.b)(N,{data:t,imageId:"anhMatSau",title:"\u1ea2nh m\u1eb7t sau",src:t.anhMatSau})})]})},F=v.b.cMNDModal;t.a=function(e){var t=e.onAfterAddFinish,a=Object(p.a)({Instance:m.a,onPending:h.d,addSelectedId:h.a}),n=Object(d.b)(),l=Object(d.c)((function(e){return e.form})),v=l.modal,O=l.datas,j=o.a.useMemo((function(){return O[F]}),[O[F]]),g=o.a.useMemo((function(){var e;return!!(null===v||void 0===v||null===(e=v[F])||void 0===e?void 0:e.open)}),[v[F]]);function w(){return(w=Object(r.a)(i.a.mark((function e(r,l){var o,d,p,m,v,h;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=!0,d=l.soCMND,p=Object(s.convertMomentToString)(u.a.getInputFields(),l),m={anhChanDung:f+"%2F"+d+"%2FanhChanDung?alt=media",anhMatTruoc:f+"%2F"+d+"%2FanhMatTruoc?alt=media",anhMatSau:f+"%2F"+d+"%2FanhMatSau?alt=media"},v=Object(c.a)(Object(c.a)({},p),m),!l){e.next=19;break}if(r.id){e.next=14;break}return e.next=9,n(a.onAddAsync({validatedValues:v}));case 9:o=e.sent,null===t||void 0===t||t(null===(h=o)||void 0===h?void 0:h.id),o=Boolean(o),e.next=19;break;case 14:return e.t0=Boolean,e.next=17,n(a.onUpdateAsync({currentData:r,validatedValues:v}));case 17:e.t1=e.sent,o=(0,e.t0)(e.t1);case 19:o&&n(b.a({modalId:F}));case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(k.b)(s.MyModal,{datas:O,form:!0,title:"Ch\u1ee9ng Minh Nh\xe2n D\xe2n",visible:g,onClose:function(){n(b.a({modalId:F}))},onOkModal:function(e,t){return w.apply(this,arguments)},formOptions:Object(s.getFormItemFields)(u.a.getInputFields()),formProps:{labelCol:{span:8},wrapperCol:{span:16}},width:800,modalId:F,children:(null===j||void 0===j?void 0:j.id)&&Object(k.b)(T,{data:j})})}},2657:function(e,t,a){"use strict";a.r(t);a(0);var n=a(57),i=a(2410),c=a(215),r=a(58),l=a(2407),o=a(93),s=a(2414),d=a(2483),b=a(353),u=a(2408),p=a(344),m=a(349),v=a(21),h=r.b.cMNDModal;t.default=function(){var e=Object(n.b)(),t=Object(n.c)((function(e){return e.cMND})),a=t.tabsData,r=t.loading,f=t.cMNDs,O=Object(u.a)({Instance:b.a,onPending:m.d,addSelectedId:m.a});return Object(v.c)("div",{className:"cmnd-page",css:l.a,children:[Object(v.b)(i.a,{className:"tabs",options:a,activeKey:"all",onTabClick:function(t){if("add"===t){var a=new b.a;e(c.c({modalId:h,data:a.initData}))}else"taiExcel"===t&&e(Object(p.b)({tableId:h,constants:o.a,fileSheet:"cmnd",fileName:"CMND"}))}}),Object(v.b)("div",{className:"tabs-main",style:{marginTop:"10px"},children:Object(v.b)("div",{className:"aside-main",children:Object(v.b)(s.a,{scroll:{x:1400},constants:o.a,actions:O,datas:f,loading:r,modalId:h,isSelection:!0})})}),Object(v.b)(d.a,{})]})}}}]);