(this["webpackJsonpreact-antd-admin"]=this["webpackJsonpreact-antd-admin"]||[]).push([[21],{2173:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var a=n(16),c=n(48),r=n(10),u=n.n(r),o=n(13),i=n(34);function s(t){var e=t.Instance,n=t.onPending,r=t.addSelectedId,s=t.onDelete,d=t.onActive;return{onAddAsync:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var a=Object(o.a)(u.a.mark((function a(c){var o,s,d,l;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o=t.validatedValues,c(n(!0)),s=new e,d=s.pathDatas,a.next=6,Object(i.a)(d,o);case 6:return l=a.sent,r&&c(null===r||void 0===r?void 0:r(null===l||void 0===l?void 0:l.id)),c(n(!1)),a.abrupt("return",l);case 10:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}()},onUpdateAsync:function(t){return function(){var a=Object(o.a)(u.a.mark((function a(r){var o,s,d,l,b;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o=t.currentData,s=t.validatedValues,d=o.id,r(n(!0)),l=new e,b=[].concat(Object(c.a)(l.pathDatas),[d]),a.next=7,Object(i.g)(b,s);case 7:return a.sent,r(n(!1)),a.abrupt("return",!0);case 10:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}()},onActiveAsync:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var a=Object(o.a)(u.a.mark((function a(r){var o,s,l,b;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o=t.id,s=t.active,r(n(!0)),l=new e,b=[].concat(Object(c.a)(l.pathDatas),[o]),a.next=6,Object(i.g)(b,{active:s});case 6:d&&r(d(o,s)),r(n(!1));case 8:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}()},onDeleteAsync:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var c=Object(o.a)(u.a.mark((function c(r){var o,d,l,b,f,v;return u.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return d=t.id,r(n(!0)),l=new e,b=l.getPathDatas(d),f=l.getPathDeleted(d),o={},Object(a.a)(o,b,null),Object(a.a)(o,f,t),v=o,c.next=8,Object(i.g)(null,v);case 8:return s&&r(s(t)),r(n(!1)),c.abrupt("return",!0);case 11:case"end":return c.stop()}}),c)})));return function(t){return c.apply(this,arguments)}}()}}}},2174:function(t,e,n){"use strict";n(2169),n(2170),n(2171),n(2172);var a=n(2168);n.d(e,"a",(function(){return a.a}))},2175:function(t,e,n){"use strict";var a=n(43),c=n(46),r=n(2176),u=n(0),o=n.n(u),i=n(54),s=n(20),d=n(18),l=["modalId","constants","actions","datas","loading"];e.a=function(t){var e=t.modalId,n=t.constants,u=t.actions,b=t.datas,f=t.loading,v=Object(r.a)(t,l),p=Object(i.b)();function O(t,e){var n={id:t.id,active:e};p(u.onActiveAsync(n))}function j(t){p(u.onDeleteAsync(t))}var h=Object(s.useSearchText)(),m=Object(c.a)(h,3),g=m[0],y=m[1],w=m[2],I=o.a.useMemo((function(){return Object(s.getTableColumns)(n,{onActiveItem:O,onDeleteItem:j,searchText:g,searchInput:w,setSearchText:y,modalId:e,constants:n})}),[g]),x=o.a.useMemo((function(){return Object.values(b||{})}),[b]);return Object(d.b)("div",{className:"table",children:Object(d.b)(s.MyTable,Object(a.a)(Object(a.a)({},v),{},{rowKey:"id",height:"100%",loading:f,columns:I,dataSource:x}))})}},2411:function(t,e,n){"use strict";n.r(e);var a=n(16),c=n(43),r=n(46),u=n(0),o=n.n(u),i=n(54),s=n(2174),d=n(203),l=n(55),b=n(2178),f=n(331),v=n(2175),p=n(10),O=n.n(p),j=n(13),h=n(20),m=n(2173),g=n(330),y=n(329),w=n(18),I=l.b.salaryModal,x=function(t){t.onAfterAddFinish;var e=Object(m.a)({Instance:g.a,onPending:y.d,addSelectedId:y.a}),n=Object(i.b)(),a=Object(i.c)((function(t){return t.form})),r=a.modal,u=a.datas,s=o.a.useMemo((function(){var t;return!!(null===r||void 0===r||null===(t=r[I])||void 0===t?void 0:t.open)}),[r[I]]);function l(){return(l=Object(j.a)(O.a.mark((function t(a,r,u){var o,i,s;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return!0,o=new g.a(r),i=o.getTongLuongThang(),s=Object(c.a)(Object(c.a)({id:a.id},r),{},{tongLuongThang:i}),t.next=6,n(e.onUpdateAsync({currentData:a,validatedValues:s}));case 6:t.sent&&n(d.a({modalId:I}));case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(w.b)(h.MyModal,{form:!0,title:"Salary",visible:s,onClose:function(){n(d.a({modalId:I}))},onOkModal:function(t,e,n){return l.apply(this,arguments)},formOptions:Object(h.getFormItemFields)(f.a.getInputFields()),formProps:{labelCol:{span:8},wrapperCol:{span:16}},width:700,modalId:I,datas:u,initData:(new g.a).initData})},D=n(305),A=n(34),S=l.b.salaryModal;e.default=function(){var t=Object(i.b)(),e=Object(i.c)((function(t){return t.salary})),n=e.tabsData,u=e.loading,l=e.salarys,p=Object(i.c)((function(t){return{chucVus:t.chucVu.chucVus,nhanSus:t.nhanSu.nhanSus}})),O=p.nhanSus,j=p.chucVus,h=Object(m.a)({Instance:g.a,onPending:y.d,addSelectedId:y.a});o.a.useEffect((function(){return t(Object(y.c)()),function(){Object(A.f)()}}),[]);var I=o.a.useMemo((function(){return O&&l?Object.entries(O).reduce((function(t,e){var n,u=Object(r.a)(e,2),o=u[0],i=u[1],s=(null===l||void 0===l?void 0:l[o])||{},d=null===j||void 0===j||null===(n=j[i.chucVuId])||void 0===n?void 0:n.chucVuName;return Object(c.a)(Object(c.a)({},t),{},Object(a.a)({},o,Object(c.a)(Object(c.a)({},i),{},{chucVuName:d},s)))}),{}):{}}),[O,l,j]);return Object(w.c)("div",{className:"salary-page",css:b.a,children:[Object(w.b)(s.a,{className:"tabs",options:n,activeKey:"all",onTabClick:function(e){if("add"===e){var n=new g.a;t(d.c({modalId:S,data:n.initData}))}else"taiExcel"===e&&t(Object(D.b)({tableId:S,constants:f.a,fileSheet:"salarySheet",fileName:"salaryName"}))}}),Object(w.b)("div",{className:"tabs-main",style:{marginTop:"10px"},children:Object(w.b)("div",{className:"aside-main",children:Object(w.b)(v.a,{scroll:{x:900},constants:f.a,actions:h,datas:I,loading:u,modalId:S,rowSelection:{onChange:function(e,n){t(Object(D.c)({tableId:S,selectedRowKeys:e,selectedRows:n}))}}})})}),Object(w.b)(x,{})]})}}}]);