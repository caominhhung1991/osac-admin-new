(this["webpackJsonpreact-antd-admin"]=this["webpackJsonpreact-antd-admin"]||[]).push([[17],{649:function(e,t,n){"use strict";function a(e,t){if(null==e)return{};var n,a,c=function(e,t){if(null==e)return{};var n,a,c={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}n.d(t,"a",(function(){return a}))},650:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(0),c=(n(297),n(148)),i=(n(76),n(200),n(116),n(214),n(296),n(324),function(e,t){var n=arguments;if(null==t||!c.d.call(t,"css"))return a.createElement.apply(void 0,n);var i=n.length,o=new Array(i);o[0]=c.a,o[1]=Object(c.c)(e,t);for(var l=2;l<i;l++)o[l]=n[l];return a.createElement.apply(null,o)})},651:function(e,t,n){"use strict";var a=n(44),c=n(30),i=n(649),o=n(0),l=n.n(o),r=n(54),d=n(12),u=n(323),s=n(14),b=["modalId","constants","actions","datas","loading","isSelection","form","rowSelection"];t.a=function(e){var t=e.modalId,n=e.constants,o=e.actions,m=e.datas,h=e.loading,g=e.isSelection,f=e.form,v=e.rowSelection,O=Object(i.a)(e,b),j=Object(r.b)(),p=Object(r.c)((function(e){return e.table})).selectedRowKeys,y=Object(r.c)((function(e){return e.hideColumns})),w=null===y||void 0===y?void 0:y[t||""],N=l.a.useMemo((function(){var e={};return g?e.rowSelection=Object(c.a)({selectedRowKeys:p[t||""]||[],onChange:function(e,n){j(Object(u.d)({tableId:t,selectedRowKeys:e,selectedRows:n}))}},v):delete e.rowSelection,e}),[g,p]);function D(e,t){var n=Object(c.a)(Object(c.a)({},e),{},{active:t});j(null===o||void 0===o?void 0:o.onActiveAsync(n))}function T(e){(null===o||void 0===o?void 0:o.onDeleteAsync)&&j(o.onDeleteAsync(e))}var C=Object(d.useSearchText)(),I=Object(a.a)(C,3),V=I[0],M=I[1],x=I[2],L=l.a.useMemo((function(){var e=Object(d.getTableColumns)(n,{onActiveItem:D,onDeleteItem:T,searchText:V,searchInput:x,setSearchText:M,modalId:t,constants:n,form:f});return w&&(e=e.filter((function(e){return!(null===w||void 0===w?void 0:w[e.id])}))),e}),[V,w]),S=l.a.useMemo((function(){var t=Object.values(m||{});return(null===e||void 0===e?void 0:e.onCallbackDataSource)&&(t=e.onCallbackDataSource(t)),t}),[m]);return Object(s.b)("div",{className:"table",children:Object(s.b)(d.MyTable,Object(c.a)(Object(c.a)(Object(c.a)({},N),O),{},{rowKey:"id",height:"100%",loading:h,columns:L,dataSource:S}))})}},667:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var a=n(44),c=n(0),i=n.n(c),o=n(38),l=n.n(o),r=n(411),d=n(206),u=n(201),s=n(168),b=n(217),m=n(14),h=function(e){var t=e||{},n=t.disabledDate,o=t.editabledDate,u=t.className,h=t.defaultTime,g=void 0===h?l()():h,f=t.disabled,v=Object(c.useState)(g),O=Object(a.a)(v,2),j=O[0],p=O[1],y=Object(c.useState)((function(){return Object(s.b)(g)})),w=Object(a.a)(y,2),N=w[0],D=w[1],T=i.a.useMemo((function(){return null===o||void 0===o?void 0:o(j)}),[j,o]);function C(e){var t=Object(s.b)(e);D(t),p(e)}var I=function(e){var t=e.label,a=e.format,c=e.width,i=e.picker;return Object(m.b)(r.a.Item,{label:t,children:Object(m.b)(d.a,{locale:b.a,style:{width:c},format:a,picker:i,value:j,onChange:C,disabledDate:n,disabled:f,className:u})})};return[j,{getDayRender:function(){return I({picker:"date",label:"Ng\xe0y: ",format:"DD/MM/YY",width:"110px"})},getMonthRender:function(){return I({picker:"month",label:"Th\xe1ng: ",format:"MM/YYYY",width:"110px"})},getYearRender:function(){return I({picker:"year",label:"N\u0103m: ",format:"YYYY",width:"110px"})},isEditabledDate:T,selectedTime:j,yearAndDayOfYear:N,getDayOfAll:function(){return null===N||void 0===N?void 0:N.dayOfAll},onUpdate:C}]};h.defaultProps={disabledDate:u.noop,width:"105px",format:"DD/MM/YY",className:"",defaultTime:l()(),disabled:!1};var g=h},684:function(e,t,n){"use strict";var a=n(653);n.d(t,"a",(function(){return a.a}));var c=n(667);n.d(t,"b",(function(){return c.a}))},721:function(e,t,n){"use strict";var a=n(0),c=n.n(a),i=n(12),o=n(54),l=n(333),r=n(14);t.a=function(e){var t=e.form,n=Object(o.b)(),a=Object(o.c)((function(e){return e.caLamViec})).caLamViecs,d=c.a.useMemo((function(){return Object.values(a||{}).map((function(e){var t=e.caLamViecName;return{value:e.id,label:t}}))}),[a]);var u=Object(r.b)(i.MyFormItem,{label:"Ca L\xe0m Vi\u1ec7c",type:"select",name:"caLamViecId",innerProps:{showSearch:!0,allowClear:!0,filterOption:i.onSelectSearch,onChange:function(e){n(Object(l.addSelectedId)(e))}},options:d});return t?Object(r.b)(i.MyForm,{form:t,labelCol:{span:8},wrapperCol:{span:16},children:u}):u}},909:function(e,t,n){"use strict";n.r(t);var a=n(5),c=n.n(a),i=n(11),o=n(30),l=n(9),r=n(44),d=n(0),u=n.n(d),s=n(54),b=n(684),m=n(115),h=n(146),g=n(96),f=n(411),v=n(413),O=n(88),j=n(298),p=n(654),y=n(40),w=n(652),N=n(651),D=n(653),T=n(323),C=n(213),I=n(326),V=n(12),M=n(117),x=n(69),L=n(172),S=n(118),k=n(149),F={congNgay:{id:"congNgay",name:"C\xf4ng ng\xe0y",width:100,className:"text-small font-weight-bold",align:"center",form:{type:"input-number"}},congTangCaNgay:{id:"congTangCaNgay",name:"T\u0103ng ca",width:100,className:"text-small font-weight-bold",align:"center",form:{type:"input-number"}},hoTroXang:{id:"hoTroXang",name:"HT x\u0103ng",width:100,className:"text-small font-weight-bold",align:"center",form:{type:"input-number-format"}},lyDoVang:{id:"lyDoVang",name:"L\xfd do v\u1eafng",width:100,className:"text-small font-weight-bold",align:"center",form:{type:"select",options:[{label:"NP",value:"NP"},{label:"KP",value:"KP"},{label:"CG",value:"CG"}]}},gioVao:{id:"gioVao",name:"G. v\xe0o",width:80,className:"text-small",align:"center"},gioRa:{id:"gioRa",name:"G. ra",width:80,className:"text-small",align:"center"},tongGio:{id:"tongGio",name:"T. gi\u1edd",width:80,className:"text-small",align:"center"},getTableColumns:function(){return[y.a.stt,M.b.maNV,x.a.hoTen,k.a.boPhanName,S.a.chucVuName,L.a.caLamViecName,this.gioVao,this.gioRa,this.tongGio,this.congNgay,this.congTangCaNgay,this.hoTroXang,this.lyDoVang,y.a.capNhatRow]},getInputFields:function(){return[this.congNgay,this.congTangCaNgay,this.hoTroXang,this.lyDoVang]},getExcelFields:function(){return[M.b.maNV,x.a.hoTen,M.b.boPhanId,S.a.chucVuName,L.a.caLamViecName,this.congNgay,this.congTangCaNgay,this.hoTroXang,this.lyDoVang]}},P={tong:{id:"tong",name:"T\u1ed5ng",width:70,className:"text-small font-weight-bold",align:"center"},diLam:{id:"diLam",name:"\u0110i l\xe0m",width:70,className:"text-small font-weight-bold",align:"center"},vang:{id:"vang",name:"v\u1eafng",width:70,className:"text-small font-weight-bold",align:"center"},getTableColumns:function(){return[Object(o.a)(Object(o.a)({},L.a.caLamViecName),{},{fixed:!1}),this.tong,this.diLam,this.vang]},getInputFields:function(){return[]}},R=n(347),Y=n(721),K=n(14),A=y.c.diemDanhModal,E=function(e){var t,n=e.selectedTime,a=Object(j.useForm)(),i=Object(r.a)(a,1)[0],d=Object(j.useForm)(),b=Object(r.a)(d,1)[0],m=Object(s.b)(),h=Object(s.c)((function(e){return e.form})),g=h.modal,f=h.datas,v=Object(s.c)((function(e){return e.caLamViec})).caLamViecs,O=u.a.useMemo((function(){var e;return!!(null===g||void 0===g||null===(e=g[A])||void 0===e?void 0:e.open)}),[null===(t=g[A])||void 0===t?void 0:t.open]),p=null===f||void 0===f?void 0:f[A];function y(){return(y=Object(l.a)(c.a.mark((function e(){var t,a,i,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return!0,e.next=3,b.validateFields();case 3:return a=e.sent,i=null===a||void 0===a?void 0:a.caLamViecId,l=null===v||void 0===v||null===(t=v[i])||void 0===t?void 0:t.caLamViecName,e.next=8,m(Object(R.g)({selectedTime:n,diemDanhData:Object(o.a)(Object(o.a)({},a),{},{caLamViecName:l,id:p.id})}));case 8:e.sent&&m(C.a({modalId:A}));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}u.a.useEffect((function(){var e=null===f||void 0===f?void 0:f[A];e?(i.setFieldsValue(e),b.setFieldsValue(e)):(i.resetFields(),b.resetFields())}),[p]);var w=[M.b.maNV,x.a.hoTen];return Object(K.c)(V.MyModal,{title:"\u0110i\u1ec3m Danh",visible:O,onClose:function(){m(C.a({modalId:A}))},onOkModal:function(){return y.apply(this,arguments)},width:700,modalId:A,datas:f,children:[Object(K.b)(V.MyForm,{form:i,options:Object(V.getFormItemFields)(w),labelCol:{span:8},wrapperCol:{span:16}}),Object(K.b)(V.MyForm,{form:b,options:Object(V.getFormItemFields)(F.getInputFields()),labelCol:{span:8},wrapperCol:{span:16}}),Object(K.b)(Y.a,{form:b})]})},G=y.c.thongKeDiemDanhModal,X=function(e){var t,n=e.datas,a=Object(s.b)(),c=Object(s.c)((function(e){return e.form})).modal,l=Object(s.c)((function(e){return e.caLamViec})).caLamViecs,r=u.a.useMemo((function(){var e;return!!(null===c||void 0===c||null===(e=c[G])||void 0===e?void 0:e.open)}),[null===(t=c[G])||void 0===t?void 0:t.open]),d=u.a.useMemo((function(){return r?Object.values(n).reduce((function(e,t){var n=t.caLamViecId,a=t.congNgay,c=t.congTangCaNgay,r=null===l||void 0===l?void 0:l[n||""],d=(null===e||void 0===e?void 0:e[n])||{},u=(null===d||void 0===d?void 0:d.tong)||0,s=(null===d||void 0===d?void 0:d.diLam)||0,b=a||c?1:0,m=(null===d||void 0===d?void 0:d.vang)||0,h=a||c?0:1;return Object(o.a)(Object(o.a)({},e),{},Object(i.a)({},n,Object(o.a)(Object(o.a)({},r),{},{tong:u+1,diLam:s+b,vang:m+h})))}),{}):{}}),[r,n,l]);return Object(K.b)(V.MyModal,{title:"Th\u1ed1ng K\xea \u0110i\u1ec3m Danh",visible:r,onClose:function(){return a(C.a({modalId:G}))},width:700,modalId:G,datas:n,children:Object(K.b)(N.a,{scroll:{x:500},constants:P,datas:d,pagination:!1})})},B=n(194),W=n(168),H=n(25),J=n(57),q=n(426),Q=n(320),U=n(471),z=n.n(U),Z=n(421),$=n(353),_=y.b.diemDanh,ee=function(e){var t=e.modalId,n=Object(s.b)(),a=Object(s.c)((function(e){return e.form})),c=a.modal,i=a.datas,o=Object(s.c)((function(e){return e.hideColumns})),l=null===o||void 0===o?void 0:o[y.c.diemDanhModal],r=u.a.useMemo((function(){return t||_}),[t]),d=u.a.useMemo((function(){var e;return!!(null===c||void 0===c||null===(e=c[_])||void 0===e?void 0:e.open)}),[c[_]]);var b=u.a.useMemo((function(){return F.getTableColumns()}),[]);return Object(K.b)(V.MyModal,{title:"Ch\u1ee9c n\u0103ng kh\xe1c",visible:d,onClose:function(){n(C.a({modalId:_}))},width:600,modalId:r,datas:i,children:Object(K.b)(Z.b,{dataSource:b,renderItem:function(e){return Object(K.c)(Z.b.Item,{className:(null===l||void 0===l?void 0:l[e.id])?"hoverClass font-weight-bold":"bg-gold hoverClass",onClick:function(){n(Object($.b)({tableId:y.c.diemDanhModal,columnId:e.id}))},children:[Object(K.b)(Z.b.Item.Meta,{title:e.name}),Object(K.b)("div",{children:e.fixed?"[\u0110\xe3 c\u1ed1 \u0111\u1ecbnh]":""})]})}})})},te=n(332),ne=function(e){var t,n=e.selectedTime,a=e.dateTimePicker,c=Object(s.b)();return Object(K.c)(K.a,{children:[Object(K.b)(p.a,{header:Object(K.b)("div",{className:"font-weight-bold",children:Object(K.b)("span",{children:"Th\xf4ng Tin Trang "})}),body:Object(K.c)("div",{className:"form-input-aside",style:{padding:"5px"},children:[Object(K.b)("div",{children:null===a||void 0===a||null===(t=a.getDayRender)||void 0===t?void 0:t.call(a)}),Object(K.b)("div",{style:{marginBottom:"7px"},children:Object(K.b)(J.a,{type:"primary",icon:Object(K.b)(q.a,{}),onClick:function(){n&&c(Object(R.d)(n,n))},children:"L\u1ea5y g\u1ee3i \xfd \u0111i\u1ec3m danh"})}),Object(K.b)("div",{children:Object(K.b)(J.a,{type:"primary",icon:Object(K.b)(Q.a,{}),onClick:function(){return c(Object(C.c)({modalId:y.b.diemDanh}))},children:"\u1ea8n c\u1ed9t c\u1ee7a b\u1ea3ng"})})]}),footer:Object(K.b)("div",{children:Object(K.b)(J.a,{icon:Object(K.b)(z.a,{}),onClick:function(){c(Object(te.b)({tagPageId:y.c.diemDanhModal}))},children:"\u0110\xf3ng m\u1edf r\u1ed9ng"})})}),Object(K.b)(ee,{modalId:y.c.diemDanhModal})]})},ae=y.c.diemDanhModal;t.default=function(){var e,t,n=Object(s.b)(),a=Object(j.useForm)(),d=Object(r.a)(a,1)[0],M=Object(b.b)(),x=Object(r.a)(M,2),L=x[0],S=x[1],k=Object(s.c)((function(e){return e.diemDanh})).bamVanTayByMonth,P=Object(s.c)((function(e){var t;return null===(t=e.tagsPage)||void 0===t?void 0:t[ae]}));u.a.useEffect((function(){d.setFieldsValue({congNgay:1}),n(I.h())}),[]),u.a.useEffect((function(){return n(Object(R.e)(L)),n(Object(R.c)(L)),function(){Object(H.g)("diemDanhNgay")}}),[L]);var Y=Object(s.c)((function(e){return{nhanSusWorking:e.nhanSu.nhanSusWorking,boPhans:e.boPhan.boPhans,chucVus:e.chucVu.chucVus,caLamViecs:e.caLamViec.caLamViecs,selectedRows:e.table.selectedRows}})),A=Y.nhanSusWorking,G=Y.boPhans,J=Y.chucVus,q=Y.caLamViecs,Q=Y.selectedRows,U=Object(s.c)((function(e){return e.diemDanh})),z=U.tabsData,Z=U.loading,$=U.diemDanhsDay,_=Object(D.a)({Instance:B.a,onPending:R.f,addSelectedId:R.a});function ee(){return(ee=Object(l.a)(c.a.mark((function e(){var t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=d.getFieldsValue(),0!==(a=Q[ae]||[]).length){e.next=4;break}return e.abrupt("return",m.b.info("Ch\u01b0a ch\u1ecdn d\u1eef li\u1ec7u!"));case 4:return e.next=6,n(Object(R.h)({selectedTime:L,nhanSuArray:a,noiDungDiemDanhs:t}));case 6:n(Object(T.c)());case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ce=u.a.useMemo((function(){var e=n(Object(I.c)(A,{boPhanId:"quayCom"})),t="ngayQuet"+(null===L||void 0===L?void 0:L.format("DD"));return Object.entries(e).reduce((function(e,n){var a,c=Object(r.a)(n,2),l=c[0],d=c[1],u=(null===k||void 0===k||null===(a=k[l])||void 0===a?void 0:a[t])||{},s=(null===$||void 0===$?void 0:$[l])||{},b=Object(o.a)(Object(o.a)(Object(o.a)({},d),s),u);return Object(o.a)(Object(o.a)({},e),{},Object(i.a)({},l,b))}),{})}),[A,G,J,q,$,k,L]);return Object(K.c)("div",{className:"diemDanh-page",css:w.a,children:[Object(K.b)(p.b,{className:"tabs",options:z,activeKey:"all",onTabClick:function(e){"taiExcel"===e?n(Object(T.b)({tableId:ae,constants:F,fileSheet:"diemDanhCom",fileName:"diemDanhCom"})):"aside"===e?n(Object(te.b)({tagPageId:ae})):"xemThongKe"===e&&n(Object(C.c)({modalId:y.c.thongKeDiemDanhModal}))}}),Object(K.c)("div",{className:"tabs-main",children:[P&&Object(K.b)(ne,{dateTimePicker:S,selectedTime:L}),Object(K.c)("div",{className:"aside-main",children:[Object(K.b)(h.a,{className:"form-selects",gutter:10,style:{marginTop:"7px"},children:Object(K.b)(g.a,{sm:18,md:19,lg:20,children:Object(K.c)(f.a,{layout:"inline",form:d,children:[Object(K.b)(f.a.Item,{name:F.congNgay.id,children:Object(K.b)(v.a,{placeholder:"C\xf4ng ng\xe0y",min:0})}),Object(K.b)(f.a.Item,{name:F.congTangCaNgay.id,children:Object(K.b)(v.a,{placeholder:"T\u0103ng ca",min:0})}),Object(K.b)(f.a.Item,{name:F.hoTroXang.id,children:Object(K.b)(v.a,{placeholder:"HT x\u0103ng",min:0,step:2e4,parser:W.a.parser,formatter:W.a.formatter})}),Object(K.b)(f.a.Item,{name:F.lyDoVang.id,children:Object(K.b)(O.a,{placeholder:"L\xfd do v\u1eafng",options:(null===(e=F.lyDoVang)||void 0===e||null===(t=e.form)||void 0===t?void 0:t.options)||[],allowClear:!0})}),Object(K.b)(V.MyButton,{onClick:function(){return ee.apply(this,arguments)},children:"\u0110i\u1ec3m danh"})]})})}),Object(K.b)(N.a,{constants:F,actions:_,datas:ce,loading:Z,modalId:ae,isSelection:!0})]})]}),Object(K.b)(E,{selectedTime:L}),Object(K.b)(X,{datas:ce})]})}}}]);