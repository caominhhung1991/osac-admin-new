(this["webpackJsonpreact-antd-admin"]=this["webpackJsonpreact-antd-admin"]||[]).push([[50],{980:function(n,e,t){"use strict";t.r(e);var a=t(13),c=t(15),i=t(3),o=t.n(i),d=t(8),r=t(36),b=t(0),u=t.n(b),l=t(48),g=t(190),s=t(370),h=t(189),j=t(367),O=t(33),f=t(245),v=t(413),m=t(368),p=t(357),T=t(244),C=t(453),y=t(61),I=t(488),N=t(73),k=t(481),L=t(12),w=t(384),M=t(14),S=O.b.tinhLuongThang,x=function(n){var e=n.modalId,t=Object(l.b)(),a=Object(l.c)((function(n){return n.form})),c=a.modal,i=a.datas,o=Object(l.c)((function(n){return n.hideColumns})),d=u.a.useMemo((function(){return e||S}),[e]),r=null===o||void 0===o?void 0:o[d],b=u.a.useMemo((function(){var n;return!!(null===c||void 0===c||null===(n=c[S])||void 0===n?void 0:n.open)}),[c[S]]);var g=u.a.useMemo((function(){return v.a.getTableColumns()}),[]);return Object(M.b)(L.MyModal,{title:"Ch\u1ee9c n\u0103ng kh\xe1c",visible:b,onClose:function(){t(h.a({modalId:S}))},width:600,modalId:d,datas:i,children:Object(M.b)(k.b,{dataSource:g,renderItem:function(n){return Object(M.c)(k.b.Item,{className:(null===r||void 0===r?void 0:r[n.id])?"hoverClass font-weight-bold":"bg-gold hoverClass",onClick:function(){t(Object(w.b)({tableId:d,columnId:n.id}))},children:[Object(M.b)(k.b.Item.Meta,{title:n.name}),Object(M.b)("div",{children:n.fixed?"[\u0110\xe3 c\u1ed1 \u0111\u1ecbnh]":""})]})}})})},D=function(n){n.selectedTime;var e,t=n.dateTimePicker,a=Object(l.b)();return Object(M.c)(M.a,{children:[Object(M.b)(j.a,{header:Object(M.b)("div",{className:"font-weight-bold",children:Object(M.b)("span",{children:"Th\xf4ng Tin Trang "})}),body:Object(M.c)("div",{className:"form-input-aside",style:{padding:"5px"},children:[Object(M.b)("div",{children:(null===t||void 0===t||null===(e=t.getMonthRender)||void 0===e?void 0:e.call(t))||null}),Object(M.b)("div",{children:Object(M.b)(y.a,{type:"primary",icon:Object(M.b)(I.a,{}),onClick:function(){return a(Object(h.c)({modalId:O.b.tinhLuongThang}))},children:"\u1ea8n c\u1ed9t c\u1ee7a b\u1ea3ng"})})]}),footer:Object(M.b)("div",{children:Object(M.b)(y.a,{icon:Object(M.b)(N.a,{}),onClick:function(){a(Object(s.b)({tagPageId:O.d.tinhLuongThangModal}))},children:"\u0110\xf3ng m\u1edf r\u1ed9ng"})})}),Object(M.b)(x,{modalId:O.d.tinhLuongThangModal})]})},P=t(70),R=t(104),z=t(382),E=t(401),H=t(18),V=O.d.tinhLuongThangModal;e.default=function(){var n,e,t=Object(l.b)(),i=Object(l.c)((function(n){return n.diemDanhThang})).tongHopDiemDanhThangs,b=Object(l.c)((function(n){return n.nhanSu})).nhanSusWorking,O=Object(l.c)((function(n){return n.salary})).salaries,y=Object(l.c)((function(n){return n.tinhLuongThang})),I=y.tabsData,N=y.loading,k=y.pageSize,L=(y.tinhLuongThangs,Object(l.c)((function(n){var e;return null===(e=n.tagsPage)||void 0===e?void 0:e[V]}))),w=Object(l.c)((function(n){return n.account})).accountData,S=null===w||void 0===w||null===(n=w.paths)||void 0===n||null===(e=n.tinhLuongThang)||void 0===e?void 0:e.edit,x=Object(T.a)({Instance:p.a,onPending:C.c,addSelectedId:C.a}),B=Object(z.b)(),J=Object(r.a)(B,2),X=J[0],K=J[1];u.a.useEffect((function(){function n(){return(n=Object(d.a)(o.a.mark((function n(){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!X){n.next=3;break}return n.next=3,t(Object(E.e)(X));case 3:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return function(){n.apply(this,arguments)}(),function(){Object(H.h)("diemDanhThang")}}),[X]);var W=u.a.useMemo((function(){return Object.values(b).reduce((function(n,e){var t=e.id,o=(null===O||void 0===O?void 0:O[t])||{},d=(null===i||void 0===i?void 0:i[t])||{},r=d.tongCongNgay,b=void 0===r?0:r,u=d.tongCongNgayThuong,l=void 0===u?0:u,g=d.tongCongTangCaNgay,s=void 0===g?0:g,h=d.tongHoTroXang,j=void 0===h?0:h;return Object(c.a)(Object(c.a)({},n),{},Object(a.a)({},t,Object(c.a)(Object(c.a)(Object(c.a)({},e),o),{},{tongCongNgay:b,tongCongNgayThuong:l,tongCongTangCaNgay:s,tongHoTroXang:j})))}),{})}),[b,O,i]);return Object(M.c)("div",{className:"tinhLuongThang-page",css:f.a,children:[Object(M.b)(j.b,{className:"tabs",options:I,activeKey:L?"aside":"",onTabClick:function(n){if("add"===n&&S){if(!S)return Object(P.f)();var e=new p.a;t(Object(h.c)({modalId:V,data:e.initData}))}else"aside"===n?t(Object(s.b)({tagPageId:V})):"taiExcel"===n&&t(Object(g.b)({tableId:V,constants:v.a,fileSheet:"tinhLuongThangSheet",fileName:"tinhLuongThangName"}))}}),Object(M.c)("div",{className:"tabs-main",style:{marginTop:"10px"},children:[L&&Object(M.b)(D,{dateTimePicker:K}),Object(M.b)("div",{className:"aside-main",children:Object(M.b)(m.a,{isEdit:S,constants:v.a,actions:x,datas:W,loading:N,modalId:V,expandable:{expandedRowRender:function(n){return Object(M.b)("div",{children:n.id})},expandRowByClick:!1},isSelection:!0,pagination:!0,pageSize:k,onChange:function(n){t(Object(C.d)(n.pageSize))},onRow:function(n){return{onClick:function(){S&&t(Object(h.c)({modalId:V,data:n}))}}},onCallbackDataSource:function(n){return Object(R.orderBy)(n,["tenCaLamViec","tenChucVu","maNV"])}})})]})]})}}}]);