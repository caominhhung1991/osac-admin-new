(this["webpackJsonpreact-antd-admin"]=this["webpackJsonpreact-antd-admin"]||[]).push([[31],{659:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(12),c=a(5),r=a.n(c),o=a(32),u=a(9),i=a(25),s=a(116);function l(e){var t=e.Instance,a=e.onPending,c=e.addSelectedId,l=e.onDelete,d=e.onActive;return{onAddAsync:function(e){return function(){var n=Object(u.a)(r.a.mark((function n(u){var s,l,d,b,v;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=e.validatedValues,l=s.otherPath,u(a(!0)),d=new t,b=l?[].concat(Object(o.a)(d.pathDatas),Object(o.a)(l)):d.pathDatas,n.next=7,Object(i.a)(b,s);case 7:return v=n.sent,c&&u(null===c||void 0===c?void 0:c(null===v||void 0===v?void 0:v.id)),u(a(!1)),n.abrupt("return",v);case 11:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},onUpdateAsync:function(e){return function(){var n=Object(u.a)(r.a.mark((function n(c){var u,l,d,b,v,f;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(u=e.currentData,l=e.validatedValues,d=u.id,b=u.otherPath,d){n.next=4;break}return n.abrupt("return",s.b.error("Ch\u01b0a c\xf3 id"));case 4:return c(a(!0)),v=new t,f=b?[].concat(Object(o.a)(v.pathDatas),Object(o.a)(b),[d]):[].concat(Object(o.a)(v.pathDatas),[d]),n.next=9,Object(i.h)(f,l);case 9:return c(a(!1)),n.abrupt("return",!0);case 11:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},onActiveAsync:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var n=Object(u.a)(r.a.mark((function n(c){var u,s,l,b,v;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=e.id,s=e.active,l=e.otherPath,c(a(!0)),b=new t,v=l?[].concat(Object(o.a)(b.pathDatas),Object(o.a)(l),[u]):[].concat(Object(o.a)(b.pathDatas),[u]),n.next=6,Object(i.h)(v,{active:s});case 6:d&&c(d(u,s)),c(a(!1));case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},onDeleteAsync:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var c=Object(u.a)(r.a.mark((function c(u){var s,d,b,v,f,h,O,j;return r.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return d=e.id,b=e.otherPath,u(a(!0)),v=new t,f=b?[].concat(Object(o.a)(b),[d]).join("/"):d,h=v.getPathDatas(f),O=v.getPathDeleted(f),s={},Object(n.a)(s,h,null),Object(n.a)(s,O,e),j=s,c.next=9,Object(i.h)(null,j);case 9:return l&&u(l(e)),u(a(!1)),c.abrupt("return",!0);case 12:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}()}}}},660:function(e,t,a){"use strict";var n=a(662);a.d(t,"a",(function(){return n.a}));a(661),a(663),a(664);var c=a(665);a.d(t,"b",(function(){return c.a}))},666:function(e,t,a){"use strict";var n=a(44),c=a(29),r=a(667),o=a(0),u=a.n(o),i=a(54),s=a(11),l=a(327),d=a(14),b=["modalId","constants","actions","datas","loading","isSelection","form","rowSelection","summary"];t.a=function(e){var t=e.modalId,a=e.constants,o=e.actions,v=e.datas,f=e.loading,h=e.isSelection,O=e.form,j=e.rowSelection,p=e.summary,m=Object(r.a)(e,b),g=Object(i.b)(),y=Object(i.c)((function(e){return e.table})).selectedRowKeys,w=Object(i.c)((function(e){return e.hideColumns})),S=null===w||void 0===w?void 0:w[t||""],I=u.a.useMemo((function(){var e={};return h?e.rowSelection=Object(c.a)({selectedRowKeys:y[t||""]||[],onChange:function(e,a){g(Object(l.d)({tableId:t,selectedRowKeys:e,selectedRows:a}))}},j):delete e.rowSelection,e}),[h,y]);function D(e,t){var a=Object(c.a)(Object(c.a)({},e),{},{active:t});g(null===o||void 0===o?void 0:o.onActiveAsync(a))}function x(e){(null===o||void 0===o?void 0:o.onDeleteAsync)&&g(o.onDeleteAsync(e))}var A=Object(s.useSearchText)(),T=Object(n.a)(A,3),k=T[0],M=T[1],C=T[2],P=u.a.useMemo((function(){var e=Object(s.getTableColumns)(a,{onActiveItem:D,onDeleteItem:x,searchText:k,searchInput:C,setSearchText:M,modalId:t,constants:a,form:O});return S&&(e=e.filter((function(e){return!(null===S||void 0===S?void 0:S[e.id])}))),e}),[k,S]),V=u.a.useMemo((function(){var t=Object.values(v||{});return(null===e||void 0===e?void 0:e.onCallbackDataSource)&&(t=e.onCallbackDataSource(t)),t}),[v]);return Object(d.b)("div",{className:"table",children:Object(d.b)(s.MyTable,Object(c.a)(Object(c.a)(Object(c.a)({},I),m),{},{rowKey:"id",height:"100%",loading:f,columns:P,dataSource:V,summary:p||null}))})}},930:function(e,t,a){"use strict";a.r(t);var n=a(12),c=a(29),r=a(44),o=a(0),u=a.n(o),i=a(54),s=a(660),l=a(217),d=a(40),b=a(668),v=a(229),f=a(666),h=a(5),O=a.n(h),j=a(9),p=a(11),m=a(659),g=a(348),y=a(347),w=a(14),S=d.d.salaryModal,I=function(e){var t=Object(m.a)({Instance:g.a,onPending:y.d,addSelectedId:y.a}),a=Object(i.b)(),n=Object(i.c)((function(e){return e.form})),r=n.modal,o=n.datas,s=u.a.useMemo((function(){var e;return!!(null===r||void 0===r||null===(e=r[S])||void 0===e?void 0:e.open)}),[r[S]]);function d(){return(d=Object(j.a)(O.a.mark((function e(n,r,o){var u,i,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return!0,u=new g.a(r),i=u.getTongLuongThang(),s=Object(c.a)(Object(c.a)({id:n.id},r),{},{tongLuongThang:i}),e.next=6,a(t.onUpdateAsync({currentData:n,validatedValues:s}));case 6:e.sent&&a(l.a({modalId:S}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(w.b)(p.MyModal,{form:!0,title:"Salary",visible:s,onClose:function(){a(l.a({modalId:S}))},onOkModal:function(e,t,a){return d.apply(this,arguments)},formOptions:Object(p.getFormItemFields)(v.a.getInputFields()),formProps:{labelCol:{span:8},wrapperCol:{span:16}},width:700,modalId:S,datas:o,initData:(new g.a).initData})},D=a(327),x=d.d.salaryModal;t.default=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.salary})),a=t.tabsData,o=t.loading,d=t.salaries,h=t.pageSize,O=Object(i.c)((function(e){return{chucVus:e.chucVu.chucVus,nhanSus:e.nhanSu.nhanSus}})),j=O.nhanSus,p=O.chucVus,S=Object(m.a)({Instance:g.a,onPending:y.d,addSelectedId:y.a});var A=u.a.useMemo((function(){return j&&d?Object.entries(j).reduce((function(e,t){var a,o=Object(r.a)(t,2),u=o[0],i=o[1],s=(null===d||void 0===d?void 0:d[u])||{},l=null===p||void 0===p||null===(a=p[i.chucVuId])||void 0===a?void 0:a.chucVuName,b=new g.a(s).getTongLuongThang();return Object(c.a)(Object(c.a)({},e),{},Object(n.a)({},u,Object(c.a)(Object(c.a)(Object(c.a)({},i),{},{chucVuName:l},s),{},{tongLuongThang:b})))}),{}):{}}),[j,d,p]);return Object(w.c)("div",{className:"salary-page",css:b.a,children:[Object(w.b)(s.b,{className:"tabs",options:a,activeKey:"all",onTabClick:function(t){if("add"===t){var a=new g.a;e(l.c({modalId:x,data:a.initData}))}else"taiExcel"===t&&e(Object(D.b)({tableId:x,constants:v.a,fileSheet:"salarySheet",fileName:"salaryName"}))}}),Object(w.b)("div",{className:"tabs-main",style:{marginTop:"10px"},children:Object(w.b)("div",{className:"aside-main",children:Object(w.b)(f.a,{scroll:{x:900},constants:v.a,pageSize:h,actions:S,datas:A,loading:o,modalId:x,isSelection:!0})})}),Object(w.b)(I,{})]})}}}]);