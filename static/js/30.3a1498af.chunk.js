(this["webpackJsonpreact-antd-admin"]=this["webpackJsonpreact-antd-admin"]||[]).push([[30],{659:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(12),r=n(5),c=n.n(r),o=n(32),i=n(9),s=n(25);function u(e){var t=e.Instance,n=e.onPending,r=e.addSelectedId,u=e.onDelete,l=e.onActive;return{onAddAsync:function(e){return function(){var a=Object(i.a)(c.a.mark((function a(i){var u,l,d,h,b;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return u=e.validatedValues,l=u.otherPath,i(n(!0)),d=new t,h=l?[].concat(Object(o.a)(d.pathDatas),Object(o.a)(l)):d.pathDatas,a.next=7,Object(s.a)(h,u);case 7:return b=a.sent,r&&i(null===r||void 0===r?void 0:r(null===b||void 0===b?void 0:b.id)),i(n(!1)),a.abrupt("return",b);case 11:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},onUpdateAsync:function(e){return function(){var a=Object(i.a)(c.a.mark((function a(r){var i,u,l,d,h,b;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return i=e.currentData,u=e.validatedValues,l=i.id,d=i.otherPath,r(n(!0)),h=new t,b=d?[].concat(Object(o.a)(h.pathDatas),Object(o.a)(d),[l]):[].concat(Object(o.a)(h.pathDatas),[l]),a.next=7,Object(s.h)(b,u);case 7:return r(n(!1)),a.abrupt("return",!0);case 9:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},onActiveAsync:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var a=Object(i.a)(c.a.mark((function a(r){var i,u,d,h,b;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return i=e.id,u=e.active,d=e.otherPath,r(n(!0)),h=new t,b=d?[].concat(Object(o.a)(h.pathDatas),Object(o.a)(d),[i]):[].concat(Object(o.a)(h.pathDatas),[i]),a.next=6,Object(s.h)(b,{active:u});case 6:l&&r(l(i,u)),r(n(!1));case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},onDeleteAsync:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var r=Object(i.a)(c.a.mark((function r(i){var l,d,h,b,m,f,p,v;return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return d=e.id,h=e.otherPath,i(n(!0)),b=new t,m=h?[].concat(Object(o.a)(h),[d]).join("/"):d,f=b.getPathDatas(m),p=b.getPathDeleted(m),l={},Object(a.a)(l,f,null),Object(a.a)(l,p,e),v=l,r.next=9,Object(s.h)(null,v);case 9:return u&&i(u(e)),i(n(!1)),r.abrupt("return",!0);case 12:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}}}},660:function(e,t,n){"use strict";var a=n(662);n.d(t,"a",(function(){return a.a}));n(661),n(663),n(664);var r=n(665);n.d(t,"b",(function(){return r.a}))},666:function(e,t,n){"use strict";var a=n(44),r=n(29),c=n(667),o=n(0),i=n.n(o),s=n(54),u=n(11),l=n(327),d=n(14),h=["modalId","constants","actions","datas","loading","isSelection","form","rowSelection","summary"];t.a=function(e){var t=e.modalId,n=e.constants,o=e.actions,b=e.datas,m=e.loading,f=e.isSelection,p=e.form,v=e.rowSelection,O=e.summary,j=Object(c.a)(e,h),g=Object(s.b)(),w=Object(s.c)((function(e){return e.table})).selectedRowKeys,y=Object(s.c)((function(e){return e.hideColumns})),S=null===y||void 0===y?void 0:y[t||""],x=i.a.useMemo((function(){var e={};return f?e.rowSelection=Object(r.a)({selectedRowKeys:w[t||""]||[],onChange:function(e,n){g(Object(l.d)({tableId:t,selectedRowKeys:e,selectedRows:n}))}},v):delete e.rowSelection,e}),[f,w]);function H(e,t){var n=Object(r.a)(Object(r.a)({},e),{},{active:t});g(null===o||void 0===o?void 0:o.onActiveAsync(n))}function D(e){(null===o||void 0===o?void 0:o.onDeleteAsync)&&g(o.onDeleteAsync(e))}var C=Object(u.useSearchText)(),I=Object(a.a)(C,3),T=I[0],M=I[1],N=I[2],A=i.a.useMemo((function(){var e=Object(u.getTableColumns)(n,{onActiveItem:H,onDeleteItem:D,searchText:T,searchInput:N,setSearchText:M,modalId:t,constants:n,form:p});return S&&(e=e.filter((function(e){return!(null===S||void 0===S?void 0:S[e.id])}))),e}),[T,S]),k=i.a.useMemo((function(){var t=Object.values(b||{});return(null===e||void 0===e?void 0:e.onCallbackDataSource)&&(t=e.onCallbackDataSource(t)),t}),[b]);return Object(d.b)("div",{className:"table",children:Object(d.b)(u.MyTable,Object(r.a)(Object(r.a)(Object(r.a)({},x),j),{},{rowKey:"id",height:"100%",loading:m,columns:A,dataSource:k,summary:O||null}))})}},684:function(e,t,n){"use strict";var a=n(0),r=n.n(a),c=n(11),o=n(54),i=n(329),s=n(14);t.a=function(e){var t=e.form,n=e.mode,a=e.label,u=e.labelCol,l=e.wrapperCol,d=e.rules,h=Object(o.b)(),b=Object(o.c)((function(e){return e.nhanSu})).nhanSus,m=r.a.useMemo((function(){return Object.values(b).filter((function(e){return e.active})).map((function(e){var t="".concat(e.maNV," - ").concat(e.hoTen);return{value:e.id,label:t}}))}),[b]);var f=Object(s.b)(c.MyFormItem,{label:a||"Nh\xe2n s\u1ef1",type:"select",name:"nhanSuId",innerProps:{mode:n,showSearch:!0,allowClear:!0,filterOption:c.onSelectSearch,onChange:function(e){h(Object(i.a)(e))}},options:m,rules:d||[]});return t?Object(s.b)(c.MyForm,{form:t,labelCol:u||{span:8},wrapperCol:l||{span:16},children:f}):f}},922:function(e,t,n){"use strict";n.r(t);var a=n(12),r=n(29),c=n(44),o=n(0),i=n.n(o),s=n(54),u=n(660),l=n(217),d=n(40),h=n(668),b=n(11),m=n(69),f={soBHXH:{id:"soBHXH",name:"S\u1ed1 BHXH",width:100,className:"text-small font-weight-bold",isSearch:!0,align:"center",form:{type:"input",rules:[{required:!0,message:"Ch\u01b0a nh\u1eadp"}]}},benhVien:{id:"benhVien",name:"B\u1ec7nh vi\u1ec7n",width:100,align:"center",className:"text-small",form:{type:"text-area",rules:[{required:!0,message:"Ch\u01b0a nh\u1eadp"}]}},luongCoBan:{id:"luongCoBan",name:"L\u01b0\u01a1ng c\u01a1 b\u1ea3n",align:"right",width:100,className:"text-small font-weight-bold",form:{type:"input-number-format",rules:[{required:!0,message:"Ch\u01b0a nh\u1eadp"}]},render:b.numberRender},soHopDong:{id:"soHopDong",name:"S\u1ed1 h\u1ee3p \u0111\u1ed3ng",width:100,align:"center",className:"text-small",form:{type:"text-area"}},maSoThue:{id:"maSoThue",name:"M\xe3 s\u1ed1 thu\u1ebf",width:100,align:"center",className:"text-small",form:{type:"input"}},thangTang:{id:"thangTang",name:"Th\xe1ng t\u0103ng",width:100,align:"center",className:"text-small font-weight-bold",form:{type:"month-picker",rules:[{required:!0,message:"Ch\u01b0a nh\u1eadp"}]}},thangGiam:{id:"thangGiam",name:"Th\xe1ng gi\u1ea3m",width:100,align:"center",className:"text-small font-weight-bold",form:{type:"month-picker"}},ghiChu:{id:"ghiChu",name:"Ghi ch\xfa",width:100,align:"center",className:"text-small",form:{type:"text-area"}},getTableColumns:function(){return[d.a.stt,Object(r.a)(Object(r.a)({},m.a.hoTen),{},{fixed:!0}),this.luongCoBan,this.soBHXH,this.benhVien,this.maSoThue,this.soHopDong,this.thangTang,d.a.editRow,d.a.active]},getInputFields:function(e){return[this.luongCoBan,this.soBHXH,this.benhVien,this.maSoThue,this.soHopDong,this.thangTang]},getFormViewFields:function(){var e=[this.soBHXH,this.benhVien,this.maSoThue,this.thangTang];return Object(b.getFormItemViewFields)(e)}},p=n(666),v=n(5),O=n.n(v),j=n(9),g=n(659),w=n(363),y=n(350),S=n(684),x=n(14),H=d.d.bHXHModal,D=function(e){var t=e.onAfterAddFinish,n=Object(g.a)({Instance:w.a,onPending:y.d,addSelectedId:y.a}),a=Object(s.b)(),r=Object(s.c)((function(e){return e.form})),c=r.modal,o=r.datas,u=i.a.useMemo((function(){var e;return!!(null===c||void 0===c||null===(e=c[H])||void 0===e?void 0:e.open)}),[c[H]]);function d(){return(d=Object(j.a)(O.a.mark((function e(r,c){var o,i,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=!0,i=Object(b.convertMomentToString)(f.getInputFields(),c),!c){e.next=16;break}if(r.id){e.next=11;break}return e.next=6,a(n.onAddAsync({validatedValues:i}));case 6:o=e.sent,null===t||void 0===t||t(null===(s=o)||void 0===s?void 0:s.id),o=Boolean(o),e.next=16;break;case 11:return e.t0=Boolean,e.next=14,a(n.onUpdateAsync({currentData:r,validatedValues:i}));case 14:e.t1=e.sent,o=(0,e.t0)(e.t1);case 16:o&&a(l.a({modalId:H}));case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(x.b)(b.MyModal,{form:!0,title:"B\u1ea3o Hi\u1ec3m X\xe3 H\u1ed9i",visible:u,onClose:function(e,t){return d.apply(this,arguments)},formOptions:Object(b.getFormItemFields)(f.getInputFields()),formProps:{labelCol:{span:8},wrapperCol:{span:16}},width:700,modalId:H,datas:o,children:Object(x.b)(S.a,{})})},C=d.d.bHXHModal;t.default=function(e){e.menu;var t=Object(s.b)(),n=Object(s.c)((function(e){return e.bHXH})),o=n.tabsData,d=n.loading,b=n.bHXHs,m=Object(s.c)((function(e){return e.nhanSu})).nhanSus,v=Object(s.c)((function(e){return e.cMND})).cMNDs,O=Object(g.a)({Instance:w.a,onPending:y.d,addSelectedId:y.a});var j=i.a.useMemo((function(){return b?Object.entries(b).reduce((function(e,t){var n=Object(c.a)(t,2),o=n[0],i=n[1],s=i.nhanSuId,u=(null===m||void 0===m?void 0:m[s])||{},l=u.cMNDId,d=(null===v||void 0===v?void 0:v[l])||{};return Object(r.a)(Object(r.a)({},e),{},Object(a.a)({},o,Object(r.a)(Object(r.a)({},i),{},{hoTen:null===d||void 0===d?void 0:d.hoTen,cMND:d,nhanSu:u})))}),{}):{}}),[b,m,v]);return Object(x.c)("div",{className:"bHXH-page",css:h.a,children:[Object(x.b)(u.b,{className:"tabs",options:o,activeKey:"all",onTabClick:function(e){if("add"===e){var n=new w.a;t(l.c({modalId:C,data:n.initData}))}}}),Object(x.b)("div",{className:"tabs-main",style:{marginTop:"10px"},children:Object(x.b)("div",{className:"aside-main",children:Object(x.b)(p.a,{scroll:{x:1300},constants:f,actions:O,datas:j,loading:d,modalId:C})})}),Object(x.b)(D,{})]})}}}]);