(this["webpackJsonpreact-antd-admin"]=this["webpackJsonpreact-antd-admin"]||[]).push([[18],{2173:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(16),r=n(48),c=n(10),i=n.n(c),o=n(13),s=n(34);function u(e){var t=e.Instance,n=e.onPending,c=e.addSelectedId,u=e.onDelete,l=e.onActive;return{onAddAsync:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var a=Object(o.a)(i.a.mark((function a(r){var o,u,l,d;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o=e.validatedValues,r(n(!0)),u=new t,l=u.pathDatas,a.next=6,Object(s.a)(l,o);case 6:return d=a.sent,c&&r(null===c||void 0===c?void 0:c(null===d||void 0===d?void 0:d.id)),r(n(!1)),a.abrupt("return",d);case 10:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},onUpdateAsync:function(e){return function(){var a=Object(o.a)(i.a.mark((function a(c){var o,u,l,d,h;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o=e.currentData,u=e.validatedValues,l=o.id,c(n(!0)),d=new t,h=[].concat(Object(r.a)(d.pathDatas),[l]),a.next=7,Object(s.g)(h,u);case 7:return a.sent,c(n(!1)),a.abrupt("return",!0);case 10:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},onActiveAsync:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var a=Object(o.a)(i.a.mark((function a(c){var o,u,d,h;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o=e.id,u=e.active,c(n(!0)),d=new t,h=[].concat(Object(r.a)(d.pathDatas),[o]),a.next=6,Object(s.g)(h,{active:u});case 6:l&&c(l(o,u)),c(n(!1));case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},onDeleteAsync:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var r=Object(o.a)(i.a.mark((function r(c){var o,l,d,h,b,m;return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return l=e.id,c(n(!0)),d=new t,h=d.getPathDatas(l),b=d.getPathDeleted(l),o={},Object(a.a)(o,h,null),Object(a.a)(o,b,e),m=o,r.next=8,Object(s.g)(null,m);case 8:return u&&c(u(e)),c(n(!1)),r.abrupt("return",!0);case 11:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}}}},2174:function(e,t,n){"use strict";n(2169),n(2170),n(2171),n(2172);var a=n(2168);n.d(t,"a",(function(){return a.a}))},2175:function(e,t,n){"use strict";var a=n(43),r=n(46),c=n(2176),i=n(0),o=n.n(i),s=n(54),u=n(20),l=n(18),d=["modalId","constants","actions","datas","loading"];t.a=function(e){var t=e.modalId,n=e.constants,i=e.actions,h=e.datas,b=e.loading,m=Object(c.a)(e,d),f=Object(s.b)();function p(e,t){var n={id:e.id,active:t};f(i.onActiveAsync(n))}function v(e){f(i.onDeleteAsync(e))}var g=Object(u.useSearchText)(),O=Object(r.a)(g,3),j=O[0],w=O[1],x=O[2],y=o.a.useMemo((function(){return Object(u.getTableColumns)(n,{onActiveItem:p,onDeleteItem:v,searchText:j,searchInput:x,setSearchText:w,modalId:t,constants:n})}),[j]),H=o.a.useMemo((function(){return Object.values(h||{})}),[h]);return Object(l.b)("div",{className:"table",children:Object(l.b)(u.MyTable,Object(a.a)(Object(a.a)({},m),{},{rowKey:"id",height:"100%",loading:b,columns:y,dataSource:H}))})}},2202:function(e,t,n){"use strict";var a=n(0),r=n.n(a),c=n(20),i=n(54),o=n(306),s=n(18);t.a=function(e){var t=e.form,n=Object(i.b)(),a=Object(i.c)((function(e){return e.nhanSu})).nhanSusWorking,u=r.a.useMemo((function(){return Object.values(a).filter((function(e){return e.active})).map((function(e){var t="".concat(e.maNV," - ").concat(e.hoTen);return{value:e.id,label:t}}))}),[a]);var l=Object(s.b)(c.MyFormItem,{label:"Nh\xe2n s\u1ef1",type:"select",name:"nhanSuId",innerProps:{showSearch:!0,allowClear:!0,filterOption:c.onSelectSearch,onChange:function(e,t){n(Object(o.a)(e))}},options:u});return t?Object(s.b)(c.MyForm,{form:t,labelCol:{span:8},wrapperCol:{span:16},children:l}):l}},2405:function(e,t,n){"use strict";n.r(t);var a=n(16),r=n(43),c=n(46),i=n(0),o=n.n(i),s=n(54),u=n(2174),l=n(203),d=n(55),h=n(2178),b=n(20),m=n(89),f={soBHXH:{id:"soBHXH",name:"S\u1ed1 BHXH",width:100,className:"text-small font-weight-bold",isSearch:!0,align:"center",form:{type:"input",rules:[{required:!0,message:"Ch\u01b0a nh\u1eadp"}]}},benhVien:{id:"benhVien",name:"B\u1ec7nh vi\u1ec7n",width:100,align:"center",className:"text-small",form:{type:"text-area",rules:[{required:!0,message:"Ch\u01b0a nh\u1eadp"}]}},luongCoBan:{id:"luongCoBan",name:"L\u01b0\u01a1ng c\u01a1 b\u1ea3n",align:"right",width:100,className:"text-small font-weight-bold",form:{type:"input-number-format",rules:[{required:!0,message:"Ch\u01b0a nh\u1eadp"}]},render:b.numberRender},soHopDong:{id:"soHopDong",name:"S\u1ed1 h\u1ee3p \u0111\u1ed3ng",width:100,align:"center",className:"text-small",form:{type:"text-area"}},maSoThue:{id:"maSoThue",name:"M\xe3 s\u1ed1 thu\u1ebf",width:100,align:"center",className:"text-small",form:{type:"input"}},thangTang:{id:"thangTang",name:"Th\xe1ng t\u0103ng",width:100,align:"center",className:"text-small font-weight-bold",form:{type:"month-picker",rules:[{required:!0,message:"Ch\u01b0a nh\u1eadp"}]}},thangGiam:{id:"thangGiam",name:"Th\xe1ng gi\u1ea3m",width:100,align:"center",className:"text-small font-weight-bold",form:{type:"month-picker"}},ghiChu:{id:"ghiChu",name:"Ghi ch\xfa",width:100,align:"center",className:"text-small",form:{type:"text-area"}},getTableColumns:function(){return[d.a.stt,Object(r.a)(Object(r.a)({},m.a.hoTen),{},{fixed:!0}),this.luongCoBan,this.soBHXH,this.benhVien,this.maSoThue,this.soHopDong,this.thangTang,d.a.editRow,d.a.active]},getInputFields:function(e){return[this.luongCoBan,this.soBHXH,this.benhVien,this.maSoThue,this.soHopDong,this.thangTang]},getFormViewFields:function(){var e=[this.soBHXH,this.benhVien,this.maSoThue,this.thangTang];return Object(b.getFormItemViewFields)(e)}},p=n(2175),v=n(10),g=n.n(v),O=n(13),j=n(2173),w=n(333),x=n(318),y=n(2202),H=n(18),I=d.b.bHXHModal,S=function(e){var t=e.onAfterAddFinish,n=Object(j.a)({Instance:w.a,onPending:x.d,addSelectedId:x.a}),a=Object(s.b)(),r=Object(s.c)((function(e){return e.form})),c=r.modal,i=r.datas,u=o.a.useMemo((function(){var e;return!!(null===c||void 0===c||null===(e=c[I])||void 0===e?void 0:e.open)}),[c[I]]);function d(){return(d=Object(O.a)(g.a.mark((function e(r,c){var i,o,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=!0,o=Object(b.convertMomentToString)(f.getInputFields(),c),!c){e.next=16;break}if(r.id){e.next=11;break}return e.next=6,a(n.onAddAsync({validatedValues:o}));case 6:i=e.sent,null===t||void 0===t||t(null===(s=i)||void 0===s?void 0:s.id),i=Boolean(i),e.next=16;break;case 11:return e.t0=Boolean,e.next=14,a(n.onUpdateAsync({currentData:r,validatedValues:o}));case 14:e.t1=e.sent,i=(0,e.t0)(e.t1);case 16:i&&a(l.a({modalId:I}));case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(H.b)(b.MyModal,{form:!0,title:"B\u1ea3o Hi\u1ec3m X\xe3 H\u1ed9i",visible:u,onClose:function(e,t){return d.apply(this,arguments)},formOptions:Object(b.getFormItemFields)(f.getInputFields()),formProps:{labelCol:{span:8},wrapperCol:{span:16}},width:700,modalId:I,datas:i,children:Object(H.b)(y.a,{})})},T=d.b.bHXHModal;t.default=function(e){e.menu;var t=Object(s.b)(),n=Object(s.c)((function(e){return e.bHXH})),i=n.tabsData,d=n.loading,b=n.bHXHs,m=Object(s.c)((function(e){return e.nhanSu})).nhanSus,v=Object(s.c)((function(e){return e.cMND})).cMNDs,g=Object(j.a)({Instance:w.a,onPending:x.d,addSelectedId:x.a});var O=o.a.useMemo((function(){return b?Object.entries(b).reduce((function(e,t){var n=Object(c.a)(t,2),i=n[0],o=n[1],s=o.nhanSuId,u=(null===m||void 0===m?void 0:m[s])||{},l=u.cMNDId,d=(null===v||void 0===v?void 0:v[l])||{};return Object(r.a)(Object(r.a)({},e),{},Object(a.a)({},i,Object(r.a)(Object(r.a)({},o),{},{hoTen:null===d||void 0===d?void 0:d.hoTen,cMND:d,nhanSu:u})))}),{}):{}}),[b,m,v]);return Object(H.c)("div",{className:"bHXH-page",css:h.a,children:[Object(H.b)(u.a,{className:"tabs",options:i,activeKey:"all",onTabClick:function(e){if("add"===e){var n=new w.a;t(l.c({modalId:T,data:n.initData}))}}}),Object(H.b)("div",{className:"tabs-main",style:{marginTop:"10px"},children:Object(H.b)("div",{className:"aside-main",children:Object(H.b)(p.a,{scroll:{x:1300},constants:f,actions:g,datas:O,loading:d,modalId:T})})}),Object(H.b)(S,{})]})}}}]);