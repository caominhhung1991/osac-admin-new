(this["webpackJsonpreact-antd-admin"]=this["webpackJsonpreact-antd-admin"]||[]).push([[16],{659:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(12),c=n(5),o=n.n(c),i=n(32),r=n(9),u=n(25);function d(e){var t=e.Instance,n=e.onPending,c=e.addSelectedId,d=e.onDelete,l=e.onActive;return{onAddAsync:function(e){return function(){var a=Object(r.a)(o.a.mark((function a(r){var d,l,s,b,g;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return d=e.validatedValues,l=d.otherPath,r(n(!0)),s=new t,b=l?[].concat(Object(i.a)(s.pathDatas),Object(i.a)(l)):s.pathDatas,a.next=7,Object(u.a)(b,d);case 7:return g=a.sent,c&&r(null===c||void 0===c?void 0:c(null===g||void 0===g?void 0:g.id)),r(n(!1)),a.abrupt("return",g);case 11:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},onUpdateAsync:function(e){return function(){var a=Object(r.a)(o.a.mark((function a(c){var r,d,l,s,b,g;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=e.currentData,d=e.validatedValues,l=r.id,s=r.otherPath,c(n(!0)),b=new t,g=s?[].concat(Object(i.a)(b.pathDatas),Object(i.a)(s),[l]):[].concat(Object(i.a)(b.pathDatas),[l]),a.next=7,Object(u.h)(g,d);case 7:return c(n(!1)),a.abrupt("return",!0);case 9:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},onActiveAsync:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var a=Object(r.a)(o.a.mark((function a(c){var r,d,s,b,g;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=e.id,d=e.active,s=e.otherPath,c(n(!0)),b=new t,g=s?[].concat(Object(i.a)(b.pathDatas),Object(i.a)(s),[r]):[].concat(Object(i.a)(b.pathDatas),[r]),a.next=6,Object(u.h)(g,{active:d});case 6:l&&c(l(r,d)),c(n(!1));case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},onDeleteAsync:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var c=Object(r.a)(o.a.mark((function c(r){var l,s,b,g,h,f,m,v;return o.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return s=e.id,b=e.otherPath,r(n(!0)),g=new t,h=b?[].concat(Object(i.a)(b),[s]).join("/"):s,f=g.getPathDatas(h),m=g.getPathDeleted(h),l={},Object(a.a)(l,f,null),Object(a.a)(l,m,e),v=l,c.next=9,Object(u.h)(null,v);case 9:return d&&r(d(e)),r(n(!1)),c.abrupt("return",!0);case 12:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}()}}}},660:function(e,t,n){"use strict";var a=n(662);n.d(t,"a",(function(){return a.a}));n(661),n(663),n(664);var c=n(665);n.d(t,"b",(function(){return c.a}))},666:function(e,t,n){"use strict";var a=n(44),c=n(29),o=n(667),i=n(0),r=n.n(i),u=n(54),d=n(11),l=n(327),s=n(14),b=["modalId","constants","actions","datas","loading","isSelection","form","rowSelection","summary"];t.a=function(e){var t=e.modalId,n=e.constants,i=e.actions,g=e.datas,h=e.loading,f=e.isSelection,m=e.form,v=e.rowSelection,O=e.summary,j=Object(o.a)(e,b),p=Object(u.b)(),y=Object(u.c)((function(e){return e.table})).selectedRowKeys,T=Object(u.c)((function(e){return e.hideColumns})),N=null===T||void 0===T?void 0:T[t||""],C=r.a.useMemo((function(){var e={};return f?e.rowSelection=Object(c.a)({selectedRowKeys:y[t||""]||[],onChange:function(e,n){p(Object(l.d)({tableId:t,selectedRowKeys:e,selectedRows:n}))}},v):delete e.rowSelection,e}),[f,y]);function w(e,t){var n=Object(c.a)(Object(c.a)({},e),{},{active:t});p(null===i||void 0===i?void 0:i.onActiveAsync(n))}function D(e){(null===i||void 0===i?void 0:i.onDeleteAsync)&&p(i.onDeleteAsync(e))}var L=Object(d.useSearchText)(),S=Object(a.a)(L,3),I=S[0],x=S[1],M=S[2],k=r.a.useMemo((function(){var e=Object(d.getTableColumns)(n,{onActiveItem:w,onDeleteItem:D,searchText:I,searchInput:M,setSearchText:x,modalId:t,constants:n,form:m});return N&&(e=e.filter((function(e){return!(null===N||void 0===N?void 0:N[e.id])}))),e}),[I,N]),P=r.a.useMemo((function(){var t=Object.values(g||{});return(null===e||void 0===e?void 0:e.onCallbackDataSource)&&(t=e.onCallbackDataSource(t)),t}),[g]);return Object(s.b)("div",{className:"table",children:Object(s.b)(d.MyTable,Object(c.a)(Object(c.a)(Object(c.a)({},C),j),{},{rowKey:"id",height:"100%",loading:h,columns:k,dataSource:P,summary:O||null}))})}},677:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n(44),c=n(0),o=n.n(c),i=n(38),r=n.n(i),u=n(419),d=n(210),l=n(132),s=n(171),b=n(220),g=n(14),h=function(e){var t=e||{},n=t.disabledDate,i=t.editabledDate,l=t.className,h=t.defaultTime,f=void 0===h?r()():h,m=t.disabled,v=Object(c.useState)(f),O=Object(a.a)(v,2),j=O[0],p=O[1],y=Object(c.useState)((function(){return Object(s.b)(f)})),T=Object(a.a)(y,2),N=T[0],C=T[1],w=o.a.useMemo((function(){return null===i||void 0===i?void 0:i(j)}),[j,i]);function D(e){var t=Object(s.b)(e);C(t),p(e)}var L=function(e){var t=e.label,a=e.format,c=e.width,o=e.picker;return Object(g.b)(u.a.Item,{label:t,children:Object(g.b)(d.a,{locale:b.a,style:{width:c},format:a,picker:o,value:j,onChange:D,disabledDate:n,disabled:m,className:l})})};return[j,{getDayRender:function(){return L({picker:"date",label:"Ng\xe0y: ",format:"DD/MM/YY",width:"110px"})},getMonthRender:function(){return L({picker:"month",label:"Th\xe1ng: ",format:"MM/YYYY",width:"110px"})},getYearRender:function(){return L({picker:"year",label:"N\u0103m: ",format:"YYYY",width:"110px"})},isEditabledDate:w,selectedTime:j,yearAndDayOfYear:N,getDayOfAll:function(){return null===N||void 0===N?void 0:N.dayOfAll},onUpdate:D}]};h.defaultProps={disabledDate:l.noop,width:"105px",format:"DD/MM/YY",className:"",defaultTime:r()(),disabled:!1};var f=h},695:function(e,t,n){"use strict";var a=n(659);n.d(t,"a",(function(){return a.a}));var c=n(677);n.d(t,"b",(function(){return c.a}))},919:function(e,t,n){"use strict";n.r(t);var a=n(12),c=n(29),o=n(44),i=n(0),r=n.n(i),u=n(54),d=n(327),l=n(217),s=n(659),b=n(660),g=n(40),h=n(668),f=n(117),m=n(69),v=n(229),O=n(144),j=n(151),p=n(175),y={chiTietSalary:{id:"chiTietSalary",name:"Chi Ti\u1ebft L\u01b0\u01a1ng",width:100,className:"text-small",children:[v.a.luongCoBan,v.a.luongTrachNhiem,v.a.luongChuyenCan,v.a.luongPhuCapKhac]},ngayCong:{id:"ngayCong",name:"Ng\xe0y c\xf4ng",width:100,className:"text-small",children:[O.a.tongCongNgayThuong,O.a.tongNgayHuongLeTet,O.a.tongCongNgayLeTet,O.a.tongCongNgay]},gioTangCa:{id:"gioTangCa",name:"Gi\u1edd T\u0103ng Ca",width:100,className:"text-small",children:[O.a.tongGioTangCaThuong,O.a.tongGioTangCaNgayLe,O.a.tongCongTangCaNgay]},getTableColumns:function(){return[f.b.maNV,Object(c.a)(Object(c.a)({},g.a.stt),{},{fixed:!1}),Object(c.a)(Object(c.a)({},m.a.hoTen),{},{fixed:!1}),j.a.boPhanName,p.a.caLamViecName,this.chiTietSalary,v.a.tongLuongThang,v.a.tongLuongNgay,this.ngayCong,this.gioTangCa]},getInputFields:function(){return[]},getExcelFields:function(){return[g.a.active]}},T=n(666),N=n(405),C=n(404),w=n(348),D=n(365),L=n(57),S=n(437),I=n(429),x=n(11),M=n(339),k=n(14),P=g.b.tinhLuong,A=function(e){var t=e.modalId,n=Object(u.b)(),a=Object(u.c)((function(e){return e.form})),c=a.modal,o=a.datas,i=Object(u.c)((function(e){return e.hideColumns})),d=null===i||void 0===i?void 0:i[g.d.tinhLuongModal],s=r.a.useMemo((function(){return t||P}),[t]),b=r.a.useMemo((function(){var e;return!!(null===c||void 0===c||null===(e=c[P])||void 0===e?void 0:e.open)}),[c[P]]);var h=r.a.useMemo((function(){return y.getTableColumns()}),[]);return Object(k.b)(x.MyModal,{title:"Ch\u1ee9c n\u0103ng kh\xe1c",visible:b,onClose:function(){n(l.a({modalId:P}))},width:600,modalId:s,datas:o,children:Object(k.b)(I.b,{dataSource:h,renderItem:function(e){return Object(k.c)(I.b.Item,{className:(null===d||void 0===d?void 0:d[e.id])?"hoverClass font-weight-bold":"bg-gold hoverClass",onClick:function(){n(Object(M.b)({tableId:g.d.tinhLuongModal,columnId:e.id}))},children:[Object(k.b)(I.b.Item.Meta,{title:e.name}),Object(k.b)("div",{children:e.fixed?"[\u0110\xe3 c\u1ed1 \u0111\u1ecbnh]":""})]})}})})},Y=function(e){var t=e.dateTimePicker,n=Object(u.b)();return Object(k.c)(k.a,{children:[Object(k.b)(b.a,{header:Object(k.b)("div",{className:"font-weight-bold",children:"Ch\u1ee9c N\u0103ng Trang"}),body:Object(k.c)("div",{className:"form-input-aside",style:{padding:"5px"},children:[Object(k.b)("div",{children:t.getMonthRender()}),Object(k.b)("div",{children:Object(k.b)(L.a,{type:"primary",icon:Object(k.b)(S.a,{}),onClick:function(){return n(Object(l.c)({modalId:g.b.tinhLuong}))},children:"\u1ea8n c\u1ed9t c\u1ee7a b\u1ea3ng"})})]})}),Object(k.b)(A,{modalId:g.d.tinhLuongModal})]})},V=n(332),R=n(695),K=n(342),E=n(25),z=g.d.tinhLuongModal;t.default=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.diemDanhThang})),n=t.loading,i=t.diemDanhThangs,g=Object(u.c)((function(e){return e.tinhLuong})),f=g.tabsData,m=g.pageSize,v=Object(u.c)((function(e){return{salaries:e.salary.salaries,nhanSus:e.nhanSu.nhanSus,chucVus:e.chucVu.chucVus,boPhans:e.boPhan.boPhans,caLamViecs:e.caLamViec.caLamViecs,ngayNghiLeTetTrongThang:e.ngayNghiLeTet.ngayNghiLeTetTrongThang}})),O=v.salaries,j=v.nhanSus,p=v.chucVus,L=v.boPhans,S=v.caLamViecs,I=v.ngayNghiLeTetTrongThang,x=Object(u.c)((function(e){var t;return null===(t=e.tagsPage)||void 0===t?void 0:t[z]})),M=Object(s.a)({Instance:N.a,onPending:C.c,addSelectedId:C.a}),P=r.a.useMemo((function(){var t=e(Object(D.d)()),n=(null===I||void 0===I?void 0:I.length)||0;return Object.entries(t).reduce((function(e,t){var i=Object(o.a)(t,2),r=i[0],u=i[1],d=(null===O||void 0===O?void 0:O[r])||{},l=new w.a(d),s=l.getTongLuongThang(),b=l.getTongLuongNgay(),g=Object(c.a)(Object(c.a)(Object(c.a)({},u),d),{},{tongLuongThang:s,tongLuongNgay:b,tongNgayHuongLeTet:n});return Object(c.a)(Object(c.a)({},e),{},Object(a.a)({},r,g))}),{})}),[I,j,i,O,p,L,S]),A=Object(R.b)(),G=Object(o.a)(A,2),F=G[0],H=G[1];return r.a.useEffect((function(){return e(Object(D.e)(F)),e(Object(K.d)(F)),function(){Object(E.g)("diemDanhThang")}}),[F]),r.a.useEffect((function(){}),[F]),Object(k.c)("div",{className:"tinhLuong-page",css:h.a,children:[Object(k.b)(b.b,{className:"tabs",options:f,activeKey:x?"aside":"",onTabClick:function(t){"taiExcel"===t?(console.log(P),e(Object(d.b)({tableId:z,constants:y,fileSheet:"tinhLuongSheet",fileName:"tinhLuongName"}))):"aside"===t?e(Object(V.b)({tagPageId:z})):"chucNangKhac"===t&&e(Object(l.c)({modalId:z}))}}),Object(k.c)("div",{className:"tabs-main",style:{marginTop:"10px"},children:[x&&Object(k.b)(Y,{dateTimePicker:H,selectedTime:F}),Object(k.b)("div",{className:"aside-main",children:Object(k.b)(T.a,{constants:y,actions:M,datas:P,loading:n,modalId:z,isSelection:!0,pageSize:m,onRow:function(e){return{onClick:function(){console.log(e)}}},onChange:function(t){e(Object(C.d)(t.pageSize))}})})]})]})}}}]);