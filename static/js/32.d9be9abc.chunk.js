(this["webpackJsonpreact-antd-admin"]=this["webpackJsonpreact-antd-admin"]||[]).push([[32],{734:function(e,a,t){"use strict";t.d(a,"a",(function(){return s}));var n=t(32),i=t(96),c=t(69),o=t(130),r=t(105),s={ngayNghiViec:{id:"ngayNghiViec",name:"Ng\xe0y ngh\u1ec9",className:"text-small",width:100,align:"center",isSearch:!0,form:{type:"date-picker"}},lyDoNghiViec:{id:"lyDoNghiViec",name:"L\xfd do ngh\u1ec9 vi\u1ec7c",className:"text-small",width:150,isSearch:!0,form:{type:"text-area"}},getTableColumns:function(){return[n.a.stt,i.b.maNV,c.a.hoTen,i.b.ngayVaoLam,this.ngayNghiViec,this.lyDoNghiViec,i.b.soDienThoai,c.a.ngaySinh,c.a.gioiTinh,o.a.boPhanName,r.a.chucVuName]},getInputFields:function(){return[n.a.id,this.ngayNghiViec,this.lyDoNghiViec]}}},971:function(e,a,t){"use strict";t.r(a);var n=t(0),i=t.n(n),c=t(116),o=t(45),r=t(359),s=t(184),l=t(241),u=t(120),d=t(96),b=t(32),h=t(69),m=t(130),g=t(105),f={getTableColumns:function(){return[b.a.stt,d.b.maNV,h.a.hoTen,d.b.ngayVaoLam,d.b.soDienThoai,h.a.ngaySinh,h.a.gioiTinh,m.a.boPhanName,g.a.chucVuName,b.a.active]},getInputFields:function(){return[b.a.id]}},p=t(185),y=t(239),j=t(238),O=t(360),v=t(5),N=t.n(v),V=t(8),w=t(13),M=t(14),S=t(40),I=t(37),L=t.n(I),D=t(159),x=t(104),T=t(162),F=t(10),C=t(734),k=t(11);var K=b.d.lamViecModal,P=function(e){var a=Object(o.b)(),t=Object(T.useForm)(),n=Object(S.a)(t,1)[0],c=Object(o.c)((function(e){return e.table})).selectedRows,r=Object(o.c)((function(e){return e.form})),b=r.modal,h=r.datas,m=r.type,g=i.a.useMemo((function(){var e;return!!(null===(e=b[K])||void 0===e?void 0:e.open)}),[b[K]]);i.a.useEffect((function(){if(g){var e=(c[K]||[]).reduce((function(e,a){var t=(null===a||void 0===a?void 0:a.ngayNghiViec)?L()(a.ngayNghiViec,"L"):L()();return Object(M.a)(Object(M.a)({},e),{},Object(w.a)({},a.id,Object(M.a)(Object(M.a)({},a),{},{ngayNghiViec:t})))}),{});n.setFieldsValue(e)}}),[K,c,g]);var f=i.a.useMemo((function(){return g?c[K]:[]}),[K,c,g]);function y(){return(y=Object(V.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a(s.a({modalId:K}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(){return(j=Object(V.a)(N.a.mark((function e(){var t,i,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.validateFields();case 2:return t=e.sent,i=C.a.getInputFields(),c=Object.entries(t).reduce((function(e,a){var t=Object(S.a)(a,2),n=t[0],c=t[1],o=Object(F.convertMomentToString)(i,c),r="";switch(m){case d.a.NghiViec:r=u.b.Quit;break;case d.a.NghiKhongLuong:r=u.b.UnpaidLeave}return Object(M.a)(Object(M.a)({},e),{},Object(w.a)({},n,Object(M.a)(Object(M.a)({},o),{},{nhanSuStatus:r})))}),{}),e.next=7,a(Object(l.l)(c,m));case 7:n.resetFields(),a(Object(p.d)({tableId:K,selectedRows:[],selectedRowKeys:[]})),a(s.a({modalId:K}));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(k.b)(F.MyModal,{datas:h,css:R,title:"Danh S\xe1ch \u0110\xe3 Ch\u1ecdn",modalId:K,visible:g,onClose:function(){return y.apply(this,arguments)},onOkModal:function(){return j.apply(this,arguments)},width:"100%",children:Object(k.b)(F.MyForm,{form:n,labelCol:{span:8},wrapperCol:{span:16},children:f.map((function(e,a){return Object(k.c)("div",{style:{marginBottom:"10px"},children:[Object(k.b)(D.a,{children:Object(k.c)(x.a,{className:"font-weight-bold",style:{marginBottom:"5px"},span:16,offset:8,children:["S\u1ed1 th\u1ee9 t\u1ef1: ",a+1]})}),Object(k.b)(F.MyFormItem,{name:[e.id,"id"],type:"input",style:{display:"none"}}),Object(k.b)(F.MyFormItem,{name:[e.id,"hoTen"],label:"H\u1ecd t\xean",type:"input",innerProps:{disabled:!0}}),Object(k.b)(F.MyFormItem,{name:[e.id,"ngayNghiViec"],label:"Ng\xe0y ngh\u1ec9 vi\u1ec7c",type:"date-picker",required:!0}),Object(k.b)(F.MyFormItem,{name:[e.id,"lyDoNghiViec"],label:"L\xfd do ngh\u1ec9 vi\u1ec7c",type:"input",required:!0})]},e.id)}))})})},R={name:"y1h1q2",styles:".ant-form-item{margin-bottom:15px;}"},E=t(73),q=b.d.lamViecModal;a.default=function(){var e,a,t=Object(o.b)(),n=Object(j.a)({Instance:u.a,onPending:l.j,addSelectedId:l.a}),h=Object(o.c)((function(e){return e.table})),m=h.selectedRows,g=h.selectedRowKeys,v=Object(o.c)((function(e){return e.nhanSu})),N=v.loading,V=v.nhanSusWorking,w=v.pageSize,M=Object(o.c)((function(e){return{boPhans:e.boPhan.boPhans,chucVus:e.chucVu.chucVus,cMNDs:e.cMND.cMNDs,caLamViecs:e.caLamViec.caLamViecs}})),S=M.boPhans,I=M.chucVus,L=M.cMNDs,D=M.caLamViecs,x=Object(o.c)((function(e){return e.account})).accountData,T=null===x||void 0===x||null===(e=x.paths)||void 0===e||null===(a=e.danhSachLamViec)||void 0===a?void 0:a.edit;i.a.useEffect((function(){t(Object(l.i)())}),[]);var F=i.a.useMemo((function(){return V?t(Object(l.c)(V)):{}}),[V,S,I,L,D]);return Object(k.c)("div",{className:"danh-sach-nhan-su-page",css:y.a,children:[Object(k.b)(r.b,{className:"tabs",options:d.f,activeKey:"all",onTabClick:function(e){if(e===d.a.NghiViec){var a;if(!T)return Object(E.e)();if(!(null===(a=m[q])||void 0===a?void 0:a.length))return c.b.error("Ch\u01b0a ch\u1ecdn d\u1eef li\u1ec7u!");if(!window.confirm("Are you sure?"))return null;t(s.c({modalId:b.d.lamViecModal,data:{},type:d.a.NghiViec}))}else if(e===d.a.NghiKhongLuong){var n;if(!T)return Object(E.e)();if(!(null===(n=m[q])||void 0===n?void 0:n.length))return c.b.error("Ch\u01b0a ch\u1ecdn d\u1eef li\u1ec7u!");if(!window.confirm("Are you sure?"))return null;t(s.c({modalId:b.d.lamViecModal,data:{},type:d.a.NghiKhongLuong}))}else e===d.a.TaiExcel&&t(Object(p.b)({tableId:q,constants:d.b,fileSheet:"datas",fileName:"Danh Sach Lam Viec"}))}}),Object(k.b)("div",{className:"tabs-main",style:{marginTop:"10px"},children:Object(k.b)("div",{className:"aside-main",children:Object(k.b)(O.a,{isEdit:T,scroll:{x:1200},constants:f,actions:n,datas:F,loading:N,modalId:q,isSelection:!0,pagination:!0,rowSelection:{selectedRowKeys:(null===g||void 0===g?void 0:g[q])||[],onChange:function(e,a){t(Object(p.d)({tableId:q,selectedRowKeys:e,selectedRows:a}))}},pageSize:w,onChange:function(e){t(Object(l.m)(e.pageSize))}})})}),Object(k.b)(P,{})]})}}}]);