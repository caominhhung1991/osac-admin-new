(this["webpackJsonpreact-antd-admin"]=this["webpackJsonpreact-antd-admin"]||[]).push([[73],{1054:function(n,e,a){"use strict";a.r(e);var t=a(14),c=a(12),i=a(34),o=a(0),g=a.n(o),d=a(48),u=a(195),l=a(194),b=a(252),r=a(390),s=a(32),h=a(253),m=a(57),j=a(100),O=a(139),T=a(121),f=a(79),v={chiTietSalary:{id:"chiTietSalary",name:"Chi Ti\u1ebft L\u01b0\u01a1ng",width:100,className:"text-small",children:[j.a.luongCoBan,j.a.luongTrachNhiem,j.a.luongChuyenCan,j.a.luongPhuCapKhac]},ngayCong:{id:"ngayCong",name:"Ng\xe0y c\xf4ng",width:100,className:"text-small",children:[O.a.tongCongNgayThuong,O.a.tongNgayHuongLeTet,O.a.tongCongNgayLeTet,O.a.tongCongNgay]},gioTangCa:{id:"gioTangCa",name:"Gi\u1edd T\u0103ng Ca",width:100,className:"text-small",children:[O.a.tongGioTangCaThuong,O.a.tongGioTangCaNgayLe,O.a.tongCongTangCaNgay]},getTableColumns:function(){return[m.b.maNV,Object(c.a)(Object(c.a)({},s.a.stt),{},{fixed:!1}),Object(c.a)(Object(c.a)({},m.b.hoTen),{},{fixed:!1}),T.a.tenBoPhan,f.a.tenCaLamViec,this.chiTietSalary,j.a.tongLuongThang,j.a.tongLuongNgay,this.ngayCong,this.gioTangCa]},getInputFields:function(){return[]},getExcelFields:function(){return[s.a.active]}},C=a(392),N=a(490),y=a(489),L=a(358),p=a(425),I=a(60),S=a(524),M=a(516),P=a(9),w=a(403),x=a(15),V=s.b.tinhLuong,k=function(n){var e=n.modalId,a=Object(d.b)(),t=Object(d.c)((function(n){return n.form})),c=t.modal,i=t.datas,o=Object(d.c)((function(n){return n.hideColumns})),u=null===o||void 0===o?void 0:o[s.d.tinhLuongModal],b=g.a.useMemo((function(){return e||V}),[e]),r=g.a.useMemo((function(){var n;return!!(null===c||void 0===c||null===(n=c[V])||void 0===n?void 0:n.open)}),[c[V]]);var h=g.a.useMemo((function(){return v.getTableColumns()}),[]);return Object(x.b)(P.MyModal,{title:"Ch\u1ee9c n\u0103ng kh\xe1c",visible:r,onClose:function(){a(l.a({modalId:V}))},width:600,modalId:b,datas:i,children:Object(x.b)(M.b,{dataSource:h,renderItem:function(n){return Object(x.c)(M.b.Item,{className:(null===u||void 0===u?void 0:u[n.id])?"hoverClass font-weight-bold":"bg-gold hoverClass",onClick:function(){a(Object(w.b)({tableId:s.d.tinhLuongModal,columnId:n.id}))},children:[Object(x.b)(M.b.Item.Meta,{title:n.name}),Object(x.b)("div",{children:n.fixed?"[\u0110\xe3 c\u1ed1 \u0111\u1ecbnh]":""})]})}})})},D=function(n){var e=n.dateTimePicker,a=Object(d.b)();return Object(x.c)(x.a,{children:[Object(x.b)(r.a,{header:Object(x.b)("div",{className:"font-weight-bold",children:"Ch\u1ee9c N\u0103ng Trang"}),body:Object(x.c)("div",{className:"form-input-aside",style:{padding:"5px"},children:[Object(x.b)("div",{children:e.getMonthRender()}),Object(x.b)("div",{children:Object(x.b)(I.a,{type:"primary",icon:Object(x.b)(S.a,{}),onClick:function(){return a(Object(l.c)({modalId:s.b.tinhLuong}))},children:"\u1ea8n c\u1ed9t c\u1ee7a b\u1ea3ng"})})]})}),Object(x.b)(k,{modalId:s.d.tinhLuongModal})]})},E=a(391),z=a(397),G=a(261),K=a(17),B=s.d.tinhLuongModal;e.default=function(){var n=Object(d.b)(),e=Object(d.c)((function(n){return n.diemDanhThang})),a=e.loading,o=e.diemDanhThangs,s=Object(d.c)((function(n){return n.tinhLuong})),m=s.tabsData,j=s.pageSize,O=Object(d.c)((function(n){return{salaries:n.salary.salaries,nhanSus:n.nhanSu.nhanSus,chucVus:n.chucVu.chucVus,boPhans:n.boPhan.boPhans,caLamViecs:n.caLamViec.caLamViecs,ngayNghiLeTetTrongThang:n.ngayNghiLeTet.ngayNghiLeTetTrongThang}})),T=O.salaries,f=O.nhanSus,I=O.chucVus,S=O.boPhans,M=O.caLamViecs,P=O.ngayNghiLeTetTrongThang,w=Object(d.c)((function(n){var e;return null===(e=n.tagsPage)||void 0===e?void 0:e[B]})),V=Object(b.a)({Instance:N.a,onPending:y.c,addSelectedId:y.a}),k=g.a.useMemo((function(){var e=n(Object(p.d)()),a=(null===P||void 0===P?void 0:P.length)||0;return Object.entries(e).reduce((function(n,e){var o=Object(i.a)(e,2),g=o[0],d=o[1],u=(null===T||void 0===T?void 0:T[g])||{},l=new L.a(u),b=l.getTongLuongThang(),r=l.getTongLuongNgay(),s=Object(c.a)(Object(c.a)(Object(c.a)({},d),u),{},{tongLuongThang:b,tongLuongNgay:r,tongNgayHuongLeTet:a});return Object(c.a)(Object(c.a)({},n),{},Object(t.a)({},g,s))}),{})}),[P,f,o,T,I,S,M]),F=Object(z.b)(),H=Object(i.a)(F,2),J=H[0],R=H[1];return g.a.useEffect((function(){return n(Object(p.e)(J)),n(Object(G.d)(J)),function(){Object(K.i)("diemDanhThang")}}),[J]),g.a.useEffect((function(){}),[J]),Object(x.c)("div",{className:"tinhLuong-page",css:h.a,children:[Object(x.b)(r.b,{className:"tabs",options:m,activeKey:w?"aside":"",onTabClick:function(e){"taiExcel"===e?(console.log(k),n(Object(u.b)({tableId:B,constants:v,fileSheet:"tinhLuongSheet",fileName:"tinhLuongName"}))):"aside"===e?n(Object(E.b)({tagPageId:B})):"chucNangKhac"===e&&n(Object(l.c)({modalId:B}))}}),Object(x.c)("div",{className:"tabs-main",style:{marginTop:"10px"},children:[w&&Object(x.b)(D,{dateTimePicker:R,selectedTime:J}),Object(x.b)("div",{className:"aside-main",children:Object(x.b)(C.a,{constants:v,actions:V,datas:k,loading:a,modalId:B,isSelection:!0,pageSize:j,pagination:!0,onRow:function(n){return{onClick:function(){console.log(n)}}},onChange:function(e){n(Object(y.d)(e.pageSize))}})})]})]})}}}]);