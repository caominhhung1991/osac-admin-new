(this["webpackJsonpreact-antd-admin"]=this["webpackJsonpreact-antd-admin"]||[]).push([[12],{659:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(12),c=n(5),r=n.n(c),i=n(32),o=n(9),s=n(25),u=n(116);function l(e){var t=e.Instance,n=e.onPending,c=e.addSelectedId,l=e.onDelete,d=e.onActive;return{onAddAsync:function(e){return function(){var a=Object(o.a)(r.a.mark((function a(o){var u,l,d,b,v;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return u=e.validatedValues,l=u.otherPath,o(n(!0)),d=new t,b=l?[].concat(Object(i.a)(d.pathDatas),Object(i.a)(l)):d.pathDatas,a.next=7,Object(s.a)(b,u);case 7:return v=a.sent,c&&o(null===c||void 0===c?void 0:c(null===v||void 0===v?void 0:v.id)),o(n(!1)),a.abrupt("return",v);case 11:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},onUpdateAsync:function(e){return function(){var a=Object(o.a)(r.a.mark((function a(c){var o,l,d,b,v,f;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(o=e.currentData,l=e.validatedValues,d=o.id,b=o.otherPath,d){a.next=4;break}return a.abrupt("return",u.b.error("Ch\u01b0a c\xf3 id"));case 4:return c(n(!0)),v=new t,f=b?[].concat(Object(i.a)(v.pathDatas),Object(i.a)(b),[d]):[].concat(Object(i.a)(v.pathDatas),[d]),a.next=9,Object(s.h)(f,l);case 9:return c(n(!1)),a.abrupt("return",!0);case 11:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},onActiveAsync:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var a=Object(o.a)(r.a.mark((function a(c){var o,u,l,b,v;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o=e.id,u=e.active,l=e.otherPath,c(n(!0)),b=new t,v=l?[].concat(Object(i.a)(b.pathDatas),Object(i.a)(l),[o]):[].concat(Object(i.a)(b.pathDatas),[o]),a.next=6,Object(s.h)(v,{active:u});case 6:d&&c(d(o,u)),c(n(!1));case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},onDeleteAsync:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var c=Object(o.a)(r.a.mark((function c(o){var u,d,b,v,f,h,p,j;return r.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return d=e.id,b=e.otherPath,o(n(!0)),v=new t,f=b?[].concat(Object(i.a)(b),[d]).join("/"):d,h=v.getPathDatas(f),p=v.getPathDeleted(f),u={},Object(a.a)(u,h,null),Object(a.a)(u,p,e),j=u,c.next=9,Object(s.h)(null,j);case 9:return l&&o(l(e)),o(n(!1)),c.abrupt("return",!0);case 12:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}()}}}},660:function(e,t,n){"use strict";var a=n(662);n.d(t,"a",(function(){return a.a}));n(661),n(663),n(664);var c=n(665);n.d(t,"b",(function(){return c.a}))},666:function(e,t,n){"use strict";var a=n(44),c=n(29),r=n(667),i=n(0),o=n.n(i),s=n(54),u=n(11),l=n(327),d=n(14),b=["modalId","constants","actions","datas","loading","isSelection","form","rowSelection","summary"];t.a=function(e){var t=e.modalId,n=e.constants,i=e.actions,v=e.datas,f=e.loading,h=e.isSelection,p=e.form,j=e.rowSelection,m=e.summary,O=Object(r.a)(e,b),g=Object(s.b)(),w=Object(s.c)((function(e){return e.table})).selectedRowKeys,y=Object(s.c)((function(e){return e.hideColumns})),x=null===y||void 0===y?void 0:y[t||""],D=o.a.useMemo((function(){var e={};return h?e.rowSelection=Object(c.a)({selectedRowKeys:w[t||""]||[],onChange:function(e,n){g(Object(l.d)({tableId:t,selectedRowKeys:e,selectedRows:n}))}},j):delete e.rowSelection,e}),[h,w]);function I(e,t){var n=Object(c.a)(Object(c.a)({},e),{},{active:t});g(null===i||void 0===i?void 0:i.onActiveAsync(n))}function M(e){(null===i||void 0===i?void 0:i.onDeleteAsync)&&g(i.onDeleteAsync(e))}var S=Object(u.useSearchText)(),k=Object(a.a)(S,3),C=k[0],T=k[1],A=k[2],N=o.a.useMemo((function(){var e=Object(u.getTableColumns)(n,{onActiveItem:I,onDeleteItem:M,searchText:C,searchInput:A,setSearchText:T,modalId:t,constants:n,form:p});return x&&(e=e.filter((function(e){return!(null===x||void 0===x?void 0:x[e.id])}))),e}),[C,x]),P=o.a.useMemo((function(){var t=Object.values(v||{});return(null===e||void 0===e?void 0:e.onCallbackDataSource)&&(t=e.onCallbackDataSource(t)),t}),[v]);return Object(d.b)("div",{className:"table",children:Object(d.b)(u.MyTable,Object(c.a)(Object(c.a)(Object(c.a)({},D),O),{},{rowKey:"id",height:"100%",loading:f,columns:N,dataSource:P,summary:m||null}))})}},683:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return r}));var a="https://firebasestorage.googleapis.com/v0/b/mydashboard-5f063.appspot.com/o",c=a+"/cmnd",r=a+"/hoaDon"},686:function(e,t,n){"use strict";var a=n(5),c=n.n(a),r=n(9),i=n(44),o=(n(0),n(54)),s=n(198),u=n(420),l=n(422),d=n(678),b=n(11),v=n(337),f=n(14);t.a=function(e){var t=e.buttonText,n=e.path,a=Object(o.b)(),h=Object(d.a)({previewVisible:!1,previewImage:"",previewTitle:"",fileList:[]}),p=Object(i.a)(h,2),j=p[0],m=p[1],O=j.previewVisible,g=j.previewImage,w=j.fileList,y=j.previewTitle;function x(){return(x=Object(r.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.url||t.preview||!t.originFileObj){e.next=4;break}return e.next=3,Object(b.getBase64)(t.originFileObj);case 3:t.preview=e.sent;case 4:m({previewImage:t.url||t.preview,previewVisible:!0,previewTitle:t.name||(null===(n=t.url)||void 0===n?void 0:n.substring(t.url.lastIndexOf("/")+1))});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var D=Object(f.c)("div",{children:[Object(f.b)(s.a,{}),Object(f.b)("div",{style:{marginTop:8},children:t||"Upload"})]});return Object(f.c)(f.a,{children:[Object(f.b)(u.a,{action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",listType:"picture-card",fileList:w,onPreview:function(e){return x.apply(this,arguments)},onChange:function(e){var t=e.fileList;m({fileList:t})},accept:".png,.jpg",customRequest:function(e){var t=e.onSuccess,i=e.onError,o=e.file,s="string"!==typeof o&&Object(b.beforeUpload)(o);setTimeout(Object(r.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s){e.next=6;break}return e.next=3,a(Object(v.a)({file:o,path:n}));case 3:null===t||void 0===t||t(null,o),e.next=7;break;case 6:null===i||void 0===i||i();case 7:case"end":return e.stop()}}),e)}))),100)},children:w.length>=1?null:D}),Object(f.b)(l.a,{visible:O,title:y,footer:null,onCancel:function(){m({previewVisible:!1})},children:Object(f.b)("img",{alt:"example",style:{width:"100%"},src:g})})]})}},740:function(e,t,n){"use strict";var a=n(5),c=n.n(a),r=n(29),i=n(9),o=n(0),s=n.n(o),u=n(11),l=n(54),d=n(217),b=n(69),v=n(659),f=n(340),h=n(40),p=n(334),j=n(683),m=n(149),O=n(96),g=n(423),w=n(686),y=n(14);var x=function(e){var t=e.data,n=e.imageId,a=e.title,c=e.src;return Object(y.c)("div",{children:[Object(y.c)("div",{className:"font-weight-bold",style:{marginBottom:"5px"},children:[a," ",Object(y.b)(w.a,{path:["cmnd",t.soCMND,n]})]}),Object(y.b)(g.a,{src:c})]})};var D=function(e){var t=e.data;return Object(y.c)(m.a,{gutter:5,children:[Object(y.b)(O.a,{sm:6,md:6,lg:6,children:Object(y.b)(x,{data:t,imageId:"anhChanDung",title:"\u1ea2nh ch\xe2n dung",src:t.anhChanDung})}),Object(y.b)(O.a,{sm:9,md:9,lg:9,children:Object(y.b)(x,{data:t,imageId:"anhMatTruoc",title:"\u1ea2nh m\u1eb7t tr\u01b0\u1edbc",src:t.anhMatTruoc})}),Object(y.b)(O.a,{sm:9,md:9,lg:9,children:Object(y.b)(x,{data:t,imageId:"anhMatSau",title:"\u1ea2nh m\u1eb7t sau",src:t.anhMatSau})})]})},I=h.d.cMNDModal;t.a=function(e){var t=e.onAfterAddFinish,n=Object(v.a)({Instance:f.a,onPending:p.d,addSelectedId:p.a}),a=Object(l.b)(),o=Object(l.c)((function(e){return e.form})),h=o.modal,m=o.datas,O=s.a.useMemo((function(){return m[I]}),[m[I]]),g=s.a.useMemo((function(){var e;return!!(null===h||void 0===h||null===(e=h[I])||void 0===e?void 0:e.open)}),[h[I]]);function w(){return(w=Object(i.a)(c.a.mark((function e(i,o){var s,l,v,f,h,p;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=!0,l=o.soCMND,v=Object(u.convertMomentToString)(b.a.getInputFields(),o),f={anhChanDung:[j.a,l,"anhChanDung?alt=media"].join("%2F"),anhMatTruoc:[j.a,l,"anhMatTruoc?alt=media"].join("%2F"),anhMatSau:[j.a,l,"anhMatSau?alt=media"].join("%2F")},h=Object(r.a)(Object(r.a)({},v),f),!o){e.next=19;break}if(i.id){e.next=14;break}return e.next=9,a(n.onAddAsync({validatedValues:h}));case 9:s=e.sent,null===t||void 0===t||t(null===(p=s)||void 0===p?void 0:p.id),s=Boolean(s),e.next=19;break;case 14:return e.t0=Boolean,e.next=17,a(n.onUpdateAsync({currentData:i,validatedValues:h}));case 17:e.t1=e.sent,s=(0,e.t0)(e.t1);case 19:s&&a(d.a({modalId:I}));case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(y.b)(u.MyModal,{datas:m,form:!0,title:"Ch\u1ee9ng Minh Nh\xe2n D\xe2n",visible:g,onClose:function(){a(d.a({modalId:I}))},onOkModal:function(e,t){return w.apply(this,arguments)},formOptions:Object(u.getFormItemFields)(b.a.getInputFields()),formProps:{labelCol:{span:8},wrapperCol:{span:16}},width:800,modalId:I,children:(null===O||void 0===O?void 0:O.id)&&Object(y.b)(D,{data:O})})}},899:function(e,t,n){"use strict";n.r(t);n(0);var a=n(54),c=n(660),r=n(217),i=n(40),o=n(668),s=n(69),u=n(666),l=n(740),d=n(340),b=n(659),v=n(327),f=n(334),h=n(14),p=i.d.cMNDModal;t.default=function(){var e=Object(a.b)(),t=Object(a.c)((function(e){return e.cMND})),n=t.tabsData,i=t.loading,j=t.cMNDs,m=Object(b.a)({Instance:d.a,onPending:f.d,addSelectedId:f.a});return Object(h.c)("div",{className:"cmnd-page",css:o.a,children:[Object(h.b)(c.b,{className:"tabs",options:n,activeKey:"all",onTabClick:function(t){if("add"===t){var n=new d.a;e(r.c({modalId:p,data:n.initData}))}else"taiExcel"===t&&e(Object(v.b)({tableId:p,constants:s.a,fileSheet:"cmnd",fileName:"CMND"}))}}),Object(h.b)("div",{className:"tabs-main",style:{marginTop:"10px"},children:Object(h.b)("div",{className:"aside-main",children:Object(h.b)(u.a,{scroll:{x:1400},constants:s.a,actions:m,datas:j,loading:i,modalId:p,isSelection:!0})})}),Object(h.b)(l.a,{})]})}}}]);