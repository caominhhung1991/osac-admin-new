(this["webpackJsonpreact-antd-admin"]=this["webpackJsonpreact-antd-admin"]||[]).push([[33],{641:function(e,t,a){"use strict";function n(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}a.d(t,"a",(function(){return n}))},642:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(0),c=(a(295),a(146)),i=(a(74),a(197),a(114),a(212),a(294),a(320),function(e,t){var a=arguments;if(null==t||!c.d.call(t,"css"))return n.createElement.apply(void 0,a);var i=a.length,r=new Array(i);r[0]=c.a,r[1]=Object(c.c)(e,t);for(var o=2;o<i;o++)r[o]=a[o];return n.createElement.apply(null,r)})},643:function(e,t,a){"use strict";var n=a(30),c=a(43),i=a(641),r=a(0),o=a.n(r),l=a(53),s=a(13),d=a(319),u=a(14),b=["modalId","constants","actions","datas","loading","isSelection","form"];t.a=function(e){var t=e.modalId,a=e.constants,r=e.actions,v=e.datas,f=e.loading,m=e.isSelection,p=e.form,O=Object(i.a)(e,b),h=Object(l.b)(),j=Object(l.c)((function(e){return e.table})).selectedRowKeys,g=o.a.useMemo((function(){var e={};return m?e.rowSelection={selectedRowKeys:j[t||""]||[],onChange:function(e,a){h(Object(d.d)({tableId:t,selectedRowKeys:e,selectedRows:a}))}}:delete e.rowSelection,e}),[m,j]);function w(e,t){var a={id:e.id,active:t};h(null===r||void 0===r?void 0:r.onActiveAsync(a))}function y(e){h(null===r||void 0===r?void 0:r.onDeleteAsync(e))}var I=Object(s.useSearchText)(),M=Object(c.a)(I,3),x=M[0],S=M[1],D=M[2],T=o.a.useMemo((function(){return Object(s.getTableColumns)(a,{onActiveItem:w,onDeleteItem:y,searchText:x,searchInput:D,setSearchText:S,modalId:t,constants:a,form:p})}),[x]),C=o.a.useMemo((function(){var t=Object.values(v||{});return(null===e||void 0===e?void 0:e.onCallbackDataSource)&&(t=e.onCallbackDataSource(t)),t}),[v]);return Object(u.b)("div",{className:"table",children:Object(u.b)(s.MyTable,Object(n.a)(Object(n.a)(Object(n.a)({},g),O),{},{rowKey:"id",height:"100%",loading:f,columns:T,dataSource:C}))})}},715:function(e,t,a){"use strict";var n=a(6),c=a.n(n),i=a(30),r=a(9),o=a(0),l=a.n(o),s=a(13),d=a(53),u=a(211),b=a(68),v=a(645),f=a(330),m=a(42),p=a(326),O="https://firebasestorage.googleapis.com/v0/b/mydashboard-5f063.appspot.com/o/cmnd",h=a(145),j=a(95),g=a(409),w=a(43),y=a(190),I=a(406),M=a(408),x=a(655),S=a(345),D=a(14);var T=function(e){var t=e.buttonText,a=e.path,n=Object(d.b)(),i=Object(x.a)({previewVisible:!1,previewImage:"",previewTitle:"",fileList:[]}),o=Object(w.a)(i,2),l=o[0],u=o[1],b=l.previewVisible,v=l.previewImage,f=l.fileList,m=l.previewTitle;function p(){return(p=Object(r.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.url||t.preview||!t.originFileObj){e.next=4;break}return e.next=3,Object(s.getBase64)(t.originFileObj);case 3:t.preview=e.sent;case 4:u({previewImage:t.url||t.preview,previewVisible:!0,previewTitle:t.name||(null===(a=t.url)||void 0===a?void 0:a.substring(t.url.lastIndexOf("/")+1))});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var O=Object(D.c)("div",{children:[Object(D.b)(y.a,{}),Object(D.b)("div",{style:{marginTop:8},children:t||"Upload"})]});return Object(D.c)(D.a,{children:[Object(D.b)(I.a,{action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",listType:"picture-card",fileList:f,onPreview:function(e){return p.apply(this,arguments)},onChange:function(e){var t=e.fileList;u({fileList:t})},accept:".png,.jpg",customRequest:function(e){var t=e.onSuccess,i=e.onError,o=e.file,l="string"!==typeof o&&Object(s.beforeUpload)(o);setTimeout(Object(r.a)(c.a.mark((function e(){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l){e.next=8;break}return e.next=3,n(Object(S.a)({file:o,path:a}));case 3:r=e.sent,console.log(r),null===t||void 0===t||t(null,o),e.next=9;break;case 8:null===i||void 0===i||i();case 9:case"end":return e.stop()}}),e)}))),100)},children:f.length>=1?null:O}),Object(D.b)(M.a,{visible:b,title:m,footer:null,onCancel:function(){u({previewVisible:!1})},children:Object(D.b)("img",{alt:"example",style:{width:"100%"},src:v})})]})};var C=function(e){var t=e.data,a=e.imageId,n=e.title,c=e.src;return Object(D.c)("div",{children:[Object(D.c)("div",{className:"font-weight-bold",style:{marginBottom:"5px"},children:[n," ",Object(D.b)(T,{path:["cmnd",t.soCMND,a]})]}),Object(D.b)(g.a,{src:c})]})};var k=function(e){var t=e.data;return Object(D.c)(h.a,{gutter:5,children:[Object(D.b)(j.a,{sm:6,md:6,lg:6,children:Object(D.b)(C,{data:t,imageId:"anhChanDung",title:"\u1ea2nh ch\xe2n dung",src:t.anhChanDung})}),Object(D.b)(j.a,{sm:9,md:9,lg:9,children:Object(D.b)(C,{data:t,imageId:"anhMatTruoc",title:"\u1ea2nh m\u1eb7t tr\u01b0\u1edbc",src:t.anhMatTruoc})}),Object(D.b)(j.a,{sm:9,md:9,lg:9,children:Object(D.b)(C,{data:t,imageId:"anhMatSau",title:"\u1ea2nh m\u1eb7t sau",src:t.anhMatSau})})]})},N=m.b.cMNDModal;t.a=function(e){var t=e.onAfterAddFinish,a=Object(v.a)({Instance:f.a,onPending:p.d,addSelectedId:p.a}),n=Object(d.b)(),o=Object(d.c)((function(e){return e.form})),m=o.modal,h=o.datas,j=l.a.useMemo((function(){return h[N]}),[h[N]]),g=l.a.useMemo((function(){var e;return!!(null===m||void 0===m||null===(e=m[N])||void 0===e?void 0:e.open)}),[m[N]]);function w(){return(w=Object(r.a)(c.a.mark((function e(r,o){var l,d,v,f,m,p;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=!0,d=o.soCMND,v=Object(s.convertMomentToString)(b.a.getInputFields(),o),f={anhChanDung:O+"%2F"+d+"%2FanhChanDung?alt=media",anhMatTruoc:O+"%2F"+d+"%2FanhMatTruoc?alt=media",anhMatSau:O+"%2F"+d+"%2FanhMatSau?alt=media"},m=Object(i.a)(Object(i.a)({},v),f),!o){e.next=19;break}if(r.id){e.next=14;break}return e.next=9,n(a.onAddAsync({validatedValues:m}));case 9:l=e.sent,null===t||void 0===t||t(null===(p=l)||void 0===p?void 0:p.id),l=Boolean(l),e.next=19;break;case 14:return e.t0=Boolean,e.next=17,n(a.onUpdateAsync({currentData:r,validatedValues:m}));case 17:e.t1=e.sent,l=(0,e.t0)(e.t1);case 19:l&&n(u.a({modalId:N}));case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(D.b)(s.MyModal,{datas:h,form:!0,title:"Ch\u1ee9ng Minh Nh\xe2n D\xe2n",visible:g,onClose:function(){n(u.a({modalId:N}))},onOkModal:function(e,t){return w.apply(this,arguments)},formOptions:Object(s.getFormItemFields)(b.a.getInputFields()),formProps:{labelCol:{span:8},wrapperCol:{span:16}},width:800,modalId:N,children:(null===j||void 0===j?void 0:j.id)&&Object(D.b)(k,{data:j})})}},881:function(e,t,a){"use strict";a.r(t);a(0);var n=a(53),c=a(646),i=a(211),r=a(42),o=a(644),l=a(68),s=a(643),d=a(715),u=a(330),b=a(645),v=a(319),f=a(326),m=a(14),p=r.b.cMNDModal;t.default=function(){var e=Object(n.b)(),t=Object(n.c)((function(e){return e.cMND})),a=t.tabsData,r=t.loading,O=t.cMNDs,h=Object(b.a)({Instance:u.a,onPending:f.d,addSelectedId:f.a});return Object(m.c)("div",{className:"cmnd-page",css:o.a,children:[Object(m.b)(c.b,{className:"tabs",options:a,activeKey:"all",onTabClick:function(t){if("add"===t){var a=new u.a;e(i.c({modalId:p,data:a.initData}))}else"taiExcel"===t&&e(Object(v.b)({tableId:p,constants:l.a,fileSheet:"cmnd",fileName:"CMND"}))}}),Object(m.b)("div",{className:"tabs-main",style:{marginTop:"10px"},children:Object(m.b)("div",{className:"aside-main",children:Object(m.b)(s.a,{scroll:{x:1400},constants:l.a,actions:h,datas:O,loading:r,modalId:p,isSelection:!0})})}),Object(m.b)(d.a,{})]})}}}]);