(this["webpackJsonpreact-antd-admin"]=this["webpackJsonpreact-antd-admin"]||[]).push([[51],{1076:function(e,n,t){"use strict";t.r(n);var a=t(0),i=t.n(a),c=t(117),o=t(48),r=t(394),l=t(195),u=t(149),s=t(67),d=t(57),b=t(30),h=t(76),m=t(121),f=t(122),g={getTableColumns:function(){return[b.a.stt,d.b.maNV,d.b.hoTen,d.b.ngayVaoLam,d.b.soDienThoai,h.a.ngaySinh,h.a.gioiTinh,m.a.tenBoPhan,f.a.tenChucVu,b.a.active]},getInputFields:function(){return[]}},p=t(196),O=t(254),j=t(253),y=t(395),v=t(3),N=t.n(v),V=t(8),w=t(14),I=t(10),M=t(34),S=t(35),T=t.n(S),C=t(169),F=t(109),x=t(172),D=t(9),L=t(802),k=t(15);var K=b.d.lamViecModal,R=function(e){var n=Object(o.b)(),t=Object(x.useForm)(),a=Object(M.a)(t,1)[0],c=Object(o.c)((function(e){return e.table})).selectedRows,r=Object(o.c)((function(e){return e.form})),b=r.modal,h=r.datas,m=r.type,f=i.a.useMemo((function(){var e;return!!(null===(e=b[K])||void 0===e?void 0:e.open)}),[b[K]]);i.a.useEffect((function(){if(f){var e=(c[K]||[]).reduce((function(e,n){var t=(null===n||void 0===n?void 0:n.ngayNghiViec)?T()(n.ngayNghiViec,"L"):T()();return Object(I.a)(Object(I.a)({},e),{},Object(w.a)({},n.id,Object(I.a)(Object(I.a)({},n),{},{ngayNghiViec:t})))}),{});a.setFieldsValue(e)}}),[K,c,f]);var g=i.a.useMemo((function(){return f?c[K]:[]}),[K,c,f]);function O(){return(O=Object(V.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(l.a({modalId:K}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(){return(j=Object(V.a)(N.a.mark((function e(){var t,i,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.validateFields();case 2:return t=e.sent,i=L.a.getInputFields(),c=Object.entries(t).reduce((function(e,n){var t=Object(M.a)(n,2),a=t[0],c=t[1],o=Object(D.convertMomentToString)(i,c),r="";switch(m){case d.a.NghiViec:r=s.b.Quit;break;case d.a.NghiKhongLuong:r=s.b.UnpaidLeave}return Object(I.a)(Object(I.a)({},e),{},Object(w.a)({},a,Object(I.a)(Object(I.a)({},o),{},{trangThaiNhanSuId:r})))}),{}),e.next=7,n(Object(u.p)(c,m));case 7:a.resetFields(),n(Object(p.d)({tableId:K,selectedRows:[],selectedRowKeys:[]})),n(l.a({modalId:K}));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(k.b)(D.MyModal,{datas:h,css:q,title:"Danh S\xe1ch \u0110\xe3 Ch\u1ecdn",modalId:K,visible:f,onClose:function(){return O.apply(this,arguments)},onOkModal:function(){return j.apply(this,arguments)},width:"100%",children:Object(k.b)(D.MyForm,{form:a,labelCol:{span:8},wrapperCol:{span:16},children:g.map((function(e,n){return Object(k.c)("div",{style:{marginBottom:"10px"},children:[Object(k.b)(C.a,{children:Object(k.c)(F.a,{className:"font-weight-bold",style:{marginBottom:"5px"},span:16,offset:8,children:["S\u1ed1 th\u1ee9 t\u1ef1: ",n+1]})}),Object(k.b)(D.MyFormItem,{name:[e.id,"id"],type:"input",style:{display:"none"}}),Object(k.b)(D.MyFormItem,{name:[e.id,"hoTen"],label:"H\u1ecd t\xean",type:"input",innerProps:{disabled:!0}}),Object(k.b)(D.MyFormItem,{name:[e.id,"ngayNghiViec"],label:"Ng\xe0y ngh\u1ec9 vi\u1ec7c",type:"date-picker",required:!0}),Object(k.b)(D.MyFormItem,{name:[e.id,"lyDoNghiViec"],label:"L\xfd do ngh\u1ec9 vi\u1ec7c",type:"input",required:!0})]},e.id)}))})})},q={name:"y1h1q2",styles:".ant-form-item{margin-bottom:15px;}"},B=t(39),E=b.d.lamViecModal;n.default=function(){var e,n,t=Object(o.b)(),a=Object(j.a)({Instance:s.a,onPending:u.m,addSelectedId:u.a}),h=Object(o.c)((function(e){return e.table})),m=h.selectedRows,f=h.selectedRowKeys,v=Object(o.c)((function(e){return e.nhanSu})),N=v.loading,V=v.nhanSusWorking,w=v.pageSize,I=Object(o.c)((function(e){return e.cMND})).cMNDs,M=Object(o.c)((function(e){return e.account})).accountData,S=null===M||void 0===M||null===(e=M.paths)||void 0===e||null===(n=e.danhSachLamViec)||void 0===n?void 0:n.edit;i.a.useEffect((function(){t(Object(u.l)())}),[]);var T=i.a.useMemo((function(){return V?t(Object(u.c)(V)):{}}),[V,I]);return Object(k.c)("div",{className:"danh-sach-nhan-su-page",css:O.a,children:[Object(k.b)(r.b,{className:"tabs",options:d.f,activeKey:"all",onTabClick:function(e){if(e===d.a.NghiViec){var n;if(!S)return Object(B.h)();if(!(null===(n=m[E])||void 0===n?void 0:n.length))return c.b.error("Ch\u01b0a ch\u1ecdn d\u1eef li\u1ec7u!");if(!window.confirm("Are you sure?"))return null;t(l.c({modalId:b.d.lamViecModal,data:{},type:d.a.NghiViec}))}else if(e===d.a.NghiKhongLuong){var a;if(!S)return Object(B.h)();if(!(null===(a=m[E])||void 0===a?void 0:a.length))return c.b.error("Ch\u01b0a ch\u1ecdn d\u1eef li\u1ec7u!");if(!window.confirm("Are you sure?"))return null;t(l.c({modalId:b.d.lamViecModal,data:{},type:d.a.NghiKhongLuong}))}else e===d.a.TaiExcel&&t(Object(p.b)({tableId:E,constants:d.b,fileSheet:"datas",fileName:"Danh Sach Lam Viec"}))}}),Object(k.b)("div",{className:"tabs-main",style:{marginTop:"10px"},children:Object(k.b)("div",{className:"aside-main",children:Object(k.b)(y.a,{isEdit:S,scroll:{x:1200},constants:g,actions:a,datas:T,loading:N,modalId:E,isSelection:!0,pagination:!0,rowSelection:{selectedRowKeys:(null===f||void 0===f?void 0:f[E])||[],onChange:function(e,n){t(Object(p.d)({tableId:E,selectedRowKeys:e,selectedRows:n}))}},pageSize:w,onChange:function(e){t(Object(u.q)(e.pageSize))}})})}),Object(k.b)(R,{})]})}},802:function(e,n,t){"use strict";t.d(n,"a",(function(){return l}));var a=t(30),i=t(57),c=t(76),o=t(121),r=t(122),l={getTableColumns:function(){return[a.a.stt,i.b.maNV,i.b.hoTen,i.b.ngayVaoLam,i.b.ngayNghiViec,i.b.lyDoNghiViec,i.b.soDienThoai,c.a.ngaySinh,c.a.gioiTinh,o.a.tenBoPhan,r.a.tenChucVu]},getInputFields:function(){return[a.a.id,i.b.ngayNghiViec,i.b.lyDoNghiViec]}}}}]);