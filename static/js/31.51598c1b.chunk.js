(this["webpackJsonpreact-antd-admin"]=this["webpackJsonpreact-antd-admin"]||[]).push([[31],{659:function(t,e,a){"use strict";a.d(e,"a",(function(){return s}));var n=a(12),c=a(5),r=a.n(c),o=a(32),u=a(9),i=a(25);function s(t){var e=t.Instance,a=t.onPending,c=t.addSelectedId,s=t.onDelete,l=t.onActive;return{onAddAsync:function(t){return function(){var n=Object(u.a)(r.a.mark((function n(u){var s,l,d,b,v;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=t.validatedValues,l=s.otherPath,u(a(!0)),d=new e,b=l?[].concat(Object(o.a)(d.pathDatas),Object(o.a)(l)):d.pathDatas,n.next=7,Object(i.a)(b,s);case 7:return v=n.sent,c&&u(null===c||void 0===c?void 0:c(null===v||void 0===v?void 0:v.id)),u(a(!1)),n.abrupt("return",v);case 11:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()},onUpdateAsync:function(t){return function(){var n=Object(u.a)(r.a.mark((function n(c){var u,s,l,d,b,v;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=t.currentData,s=t.validatedValues,l=u.id,d=u.otherPath,c(a(!0)),b=new e,v=d?[].concat(Object(o.a)(b.pathDatas),Object(o.a)(d),[l]):[].concat(Object(o.a)(b.pathDatas),[l]),n.next=7,Object(i.h)(v,s);case 7:return c(a(!1)),n.abrupt("return",!0);case 9:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()},onActiveAsync:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var n=Object(u.a)(r.a.mark((function n(c){var u,s,d,b,v;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=t.id,s=t.active,d=t.otherPath,c(a(!0)),b=new e,v=d?[].concat(Object(o.a)(b.pathDatas),Object(o.a)(d),[u]):[].concat(Object(o.a)(b.pathDatas),[u]),n.next=6,Object(i.h)(v,{active:s});case 6:l&&c(l(u,s)),c(a(!1));case 8:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()},onDeleteAsync:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var c=Object(u.a)(r.a.mark((function c(u){var l,d,b,v,f,h,O,j;return r.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return d=t.id,b=t.otherPath,u(a(!0)),v=new e,f=b?[].concat(Object(o.a)(b),[d]).join("/"):d,h=v.getPathDatas(f),O=v.getPathDeleted(f),l={},Object(n.a)(l,h,null),Object(n.a)(l,O,t),j=l,c.next=9,Object(i.h)(null,j);case 9:return s&&u(s(t)),u(a(!1)),c.abrupt("return",!0);case 12:case"end":return c.stop()}}),c)})));return function(t){return c.apply(this,arguments)}}()}}}},660:function(t,e,a){"use strict";var n=a(662);a.d(e,"a",(function(){return n.a}));a(661),a(663),a(664);var c=a(665);a.d(e,"b",(function(){return c.a}))},666:function(t,e,a){"use strict";var n=a(44),c=a(29),r=a(667),o=a(0),u=a.n(o),i=a(54),s=a(11),l=a(327),d=a(14),b=["modalId","constants","actions","datas","loading","isSelection","form","rowSelection","summary"];e.a=function(t){var e=t.modalId,a=t.constants,o=t.actions,v=t.datas,f=t.loading,h=t.isSelection,O=t.form,j=t.rowSelection,p=t.summary,m=Object(r.a)(t,b),g=Object(i.b)(),y=Object(i.c)((function(t){return t.table})).selectedRowKeys,w=Object(i.c)((function(t){return t.hideColumns})),S=null===w||void 0===w?void 0:w[e||""],I=u.a.useMemo((function(){var t={};return h?t.rowSelection=Object(c.a)({selectedRowKeys:y[e||""]||[],onChange:function(t,a){g(Object(l.d)({tableId:e,selectedRowKeys:t,selectedRows:a}))}},j):delete t.rowSelection,t}),[h,y]);function D(t,e){var a=Object(c.a)(Object(c.a)({},t),{},{active:e});g(null===o||void 0===o?void 0:o.onActiveAsync(a))}function x(t){(null===o||void 0===o?void 0:o.onDeleteAsync)&&g(o.onDeleteAsync(t))}var A=Object(s.useSearchText)(),T=Object(n.a)(A,3),k=T[0],M=T[1],P=T[2],V=u.a.useMemo((function(){var t=Object(s.getTableColumns)(a,{onActiveItem:D,onDeleteItem:x,searchText:k,searchInput:P,setSearchText:M,modalId:e,constants:a,form:O});return S&&(t=t.filter((function(t){return!(null===S||void 0===S?void 0:S[t.id])}))),t}),[k,S]),C=u.a.useMemo((function(){var e=Object.values(v||{});return(null===t||void 0===t?void 0:t.onCallbackDataSource)&&(e=t.onCallbackDataSource(e)),e}),[v]);return Object(d.b)("div",{className:"table",children:Object(d.b)(s.MyTable,Object(c.a)(Object(c.a)(Object(c.a)({},I),m),{},{rowKey:"id",height:"100%",loading:f,columns:V,dataSource:C,summary:p||null}))})}},930:function(t,e,a){"use strict";a.r(e);var n=a(12),c=a(29),r=a(44),o=a(0),u=a.n(o),i=a(54),s=a(660),l=a(217),d=a(40),b=a(668),v=a(229),f=a(666),h=a(5),O=a.n(h),j=a(9),p=a(11),m=a(659),g=a(348),y=a(347),w=a(14),S=d.d.salaryModal,I=function(t){var e=Object(m.a)({Instance:g.a,onPending:y.d,addSelectedId:y.a}),a=Object(i.b)(),n=Object(i.c)((function(t){return t.form})),r=n.modal,o=n.datas,s=u.a.useMemo((function(){var t;return!!(null===r||void 0===r||null===(t=r[S])||void 0===t?void 0:t.open)}),[r[S]]);function d(){return(d=Object(j.a)(O.a.mark((function t(n,r,o){var u,i,s;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return!0,u=new g.a(r),i=u.getTongLuongThang(),s=Object(c.a)(Object(c.a)({id:n.id},r),{},{tongLuongThang:i}),t.next=6,a(e.onUpdateAsync({currentData:n,validatedValues:s}));case 6:t.sent&&a(l.a({modalId:S}));case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(w.b)(p.MyModal,{form:!0,title:"Salary",visible:s,onClose:function(){a(l.a({modalId:S}))},onOkModal:function(t,e,a){return d.apply(this,arguments)},formOptions:Object(p.getFormItemFields)(v.a.getInputFields()),formProps:{labelCol:{span:8},wrapperCol:{span:16}},width:700,modalId:S,datas:o,initData:(new g.a).initData})},D=a(327),x=d.d.salaryModal;e.default=function(){var t=Object(i.b)(),e=Object(i.c)((function(t){return t.salary})),a=e.tabsData,o=e.loading,d=e.salaries,h=e.pageSize,O=Object(i.c)((function(t){return{chucVus:t.chucVu.chucVus,nhanSus:t.nhanSu.nhanSus}})),j=O.nhanSus,p=O.chucVus,S=Object(m.a)({Instance:g.a,onPending:y.d,addSelectedId:y.a});var A=u.a.useMemo((function(){return j&&d?Object.entries(j).reduce((function(t,e){var a,o=Object(r.a)(e,2),u=o[0],i=o[1],s=(null===d||void 0===d?void 0:d[u])||{},l=null===p||void 0===p||null===(a=p[i.chucVuId])||void 0===a?void 0:a.chucVuName,b=new g.a(s).getTongLuongThang();return Object(c.a)(Object(c.a)({},t),{},Object(n.a)({},u,Object(c.a)(Object(c.a)(Object(c.a)({},i),{},{chucVuName:l},s),{},{tongLuongThang:b})))}),{}):{}}),[j,d,p]);return Object(w.c)("div",{className:"salary-page",css:b.a,children:[Object(w.b)(s.b,{className:"tabs",options:a,activeKey:"all",onTabClick:function(e){if("add"===e){var a=new g.a;t(l.c({modalId:x,data:a.initData}))}else"taiExcel"===e&&t(Object(D.b)({tableId:x,constants:v.a,fileSheet:"salarySheet",fileName:"salaryName"}))}}),Object(w.b)("div",{className:"tabs-main",style:{marginTop:"10px"},children:Object(w.b)("div",{className:"aside-main",children:Object(w.b)(f.a,{scroll:{x:900},constants:v.a,pageSize:h,actions:S,datas:A,loading:o,modalId:x,isSelection:!0})})}),Object(w.b)(I,{})]})}}}]);