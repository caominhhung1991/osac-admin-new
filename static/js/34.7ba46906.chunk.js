(this["webpackJsonpreact-antd-admin"]=this["webpackJsonpreact-antd-admin"]||[]).push([[34],{1e3:function(e,a,n){"use strict";n.r(a);var t=n(13),i=n(15),c=n(35),r=n(0),s=n.n(r),o=n(48),l=n(374),u=n(189),h=n(34),d=n(247),m=n(11),b=n(53),p=n(76),f={benhVien:{id:"benhVien",name:"B\u1ec7nh vi\u1ec7n",width:100,className:"text-small",isSearch:!0,align:"center",form:{type:"input",rules:[{required:!0,message:"Ch\u01b0a nh\u1eadp"}]}},ngayKham:{id:"ngayKham",name:"Ng\xe0y kh\xe1m",width:100,align:"center",isSearch:!0,className:"text-small",form:{type:"date-picker",rules:[{required:!0,message:"Ch\u01b0a nh\u1eadp"}]}},thangHieuLuc:{id:"thangHieuLuc",name:"Th\xe1ng hi\u1ec7u l\u1ef1c",width:80,className:"text-small",align:"center",form:{type:"input-number",rules:[{required:!0,message:"Ch\u01b0a nh\u1eadp"}]}},ngayKhamLai:{id:"ngayKhamLai",name:"Ng\xe0y kh\xe1m l\u1ea1i",width:100,align:"center",isSearch:!0,className:"text-small font-weight-bold",form:{type:"date-picker",rules:[{required:!0,message:"Ch\u01b0a nh\u1eadp"}]},render:m.monthTimeRender},getTableColumns:function(){return[h.a.stt,p.b.maNV,Object(i.a)(Object(i.a)({},b.a.hoTen),{},{fixed:!0}),this.benhVien,this.ngayKham,this.thangHieuLuc,this.ngayKhamLai,h.a.editRow]},getInputFields:function(e){return[this.benhVien,this.ngayKham,this.thangHieuLuc,this.ngayKhamLai]},getExcelFields:function(){return[p.b.maNV,b.a.hoTen,this.benhVien,this.ngayKham,this.thangHieuLuc,this.ngayKhamLai]},getFormViewFields:function(){var e=[this.benhVien];return Object(m.getFormItemViewFields)(e)}},g=n(375),O=n(3),j=n.n(O),v=n(8),S=n(246),y=n(416),w=n(415),K=n(737),I=n(14),k=h.d.khamSucKhoeModal,C=function(e){var a=Object(S.a)({Instance:y.a,onPending:w.d,addSelectedId:w.a}),n=Object(o.b)(),t=Object(o.c)((function(e){return e.form})),c=t.modal,r=t.datas,l=s.a.useMemo((function(){var e;return!!(null===c||void 0===c||null===(e=c[k])||void 0===e?void 0:e.open)}),[c[k]]),h=s.a.useMemo((function(){return Object(m.getFormItemFields)(f.getInputFields())}),[]);function d(){return(d=Object(v.a)(j.a.mark((function e(t,c){var r,s,o,l;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=!0,s=Object(m.convertMomentToString)(f.getInputFields(),c),!c){e.next=10;break}return o=t.id||c.nhanSuId,l=Object(i.a)({id:o},s),e.t0=Boolean,e.next=8,n(a.onUpdateAsync({currentData:l,validatedValues:l}));case 8:e.t1=e.sent,r=(0,e.t0)(e.t1);case 10:r&&n(u.a({modalId:k}));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(I.b)(m.MyModal,{datas:r,form:!0,title:"B\u1ea3o Hi\u1ec3m X\xe3 H\u1ed9i",visible:l,onClose:function(e,a){return d.apply(this,arguments)},formOptions:h,formProps:{labelCol:{span:8},wrapperCol:{span:16}},width:700,modalId:k,children:Object(I.b)(K.a,{})})},N=n(190),x=h.d.khamSucKhoeModal;a.default=function(e){var a=Object(o.b)(),n=Object(o.c)((function(e){return e.khamSucKhoe})),r=n.tabsData,h=n.loading,m=n.khamSucKhoes,b=Object(o.c)((function(e){return{nhanSus:e.nhanSu.nhanSus}})).nhanSus,p=Object(S.a)({Instance:y.a,onPending:w.d,addSelectedId:w.a});s.a.useEffect((function(){a(Object(w.c)())}),[]);var O=s.a.useMemo((function(){return b?Object.entries(b).reduce((function(e,a){var n=Object(c.a)(a,2),r=n[0],s=n[1],o=(null===m||void 0===m?void 0:m[r])||{};return Object(i.a)(Object(i.a)({},e),{},Object(t.a)({},r,Object(i.a)(Object(i.a)({},s),o)))}),{}):{}}),[m,b]);return Object(I.c)("div",{className:"khamSucKhoe-page",css:d.a,children:[Object(I.b)(l.b,{className:"tabs",options:r,activeKey:"all",onTabClick:function(e){if("add"===e){var n=new y.a;a(u.c({modalId:x,data:n.initData}))}else"taiExcel"===e&&a(Object(N.b)({tableId:x,constants:f,fileSheet:"khamSucKhoe",fileName:"khamSucKhoe"}))}}),Object(I.b)("div",{className:"tabs-main",style:{marginTop:"10px"},children:Object(I.b)("div",{className:"aside-main",children:Object(I.b)(g.a,{scroll:{x:1e3},constants:f,actions:p,datas:O,loading:h,modalId:x,isSelection:!0,pagination:!0})})}),Object(I.b)(C,{})]})}},737:function(e,a,n){"use strict";var t=n(0),i=n.n(t),c=n(11),r=n(48),s=n(148),o=n(14);a.a=function(e){var a=e.form,n=e.mode,t=e.label,l=e.labelCol,u=e.wrapperCol,h=e.rules,d=Object(r.b)(),m=Object(r.c)((function(e){return e.nhanSu})).nhanSus,b=i.a.useMemo((function(){return Object.values(m).filter((function(e){return e.active})).map((function(e){var a="".concat(e.maNV," - ").concat(e.hoTen);return{value:e.id,label:a}}))}),[m]);var p=Object(o.b)(c.MyFormItem,{label:t||"Nh\xe2n s\u1ef1",type:"select",name:"nhanSuId",innerProps:{mode:n,showSearch:!0,allowClear:!0,filterOption:c.onSelectSearch,onChange:function(e){d(Object(s.a)(e))}},options:b,rules:h||[]});return a?Object(o.b)(c.MyForm,{form:a,labelCol:l||{span:8},wrapperCol:u||{span:16},children:p}):p}}}]);