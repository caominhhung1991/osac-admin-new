(this["webpackJsonpreact-antd-admin"]=this["webpackJsonpreact-antd-admin"]||[]).push([[11],{1010:function(e,t,n){"use strict";n.r(t);var a=n(34),i=n(0),c=n.n(i),o=n(48),r=n(194),l=n(382),d=n(193),s=n(380),u=n(35),h=n(249),b=n(13),m=n(743),f=n(231),g=n(732),p=n(10),O={maPhieu:{id:"maPhieu",name:"Phi\u1ebfu",width:80,className:"text-small font-weight-bold",align:"center",isSearch:!0,sorter:Object(p.sortByText)("maPhieu")},getTableColumns:function(){return[Object(b.a)(Object(b.a)({},u.a.stt),{},{fixed:!1}),this.maPhieu,m.a.ngay,m.a.thu,m.a.chi,m.a.conLai,f.a.tenDiaDiem,m.a.dienGiai,Object(b.a)(Object(b.a)({},g.a.tenTaiKhoanNganHang),{},{width:220}),u.a.capNhatRow]},getInputFields:function(){return[m.a.ngay,m.a.thu,m.a.chi,m.a.dienGiai]},getExcelFields:function(){return[u.a.stt,this.maPhieu,m.a.ngay,m.a.thu,m.a.chi,m.a.conLai,f.a.tenDiaDiem,m.a.dienGiai,g.a.tenTaiKhoanNganHang]}},j=n(381),v=n(3),T=n.n(v),w=n(7),C=n(248),N=n(185),x=n(414),y=n(43),K=n(738),M=n(758),I=n(251),k=n(384),F=n(15),S=u.d.bcThuChiTienMatModal,D=function(e){var t,n,a=e.onAfterAddFinish,i=(Object(C.a)({Instance:N.a,onPending:x.e,addSelectedId:x.a}),Object(o.b)()),r=Object(o.c)((function(e){return e.form})),l=r.modal,s=r.datas,u=Object(o.c)((function(e){return e.account})).accountData,h=null===u||void 0===u||null===(t=u.paths)||void 0===t||null===(n=t.bcThuChiTienMat)||void 0===n?void 0:n.edit,b=c.a.useMemo((function(){var e;return!!(null===l||void 0===l||null===(e=l[S])||void 0===e?void 0:e.open)}),[l[S]]);function m(){return(m=Object(w.a)(T.a.mark((function e(t,n){var c,o,r,l;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h){e.next=2;break}return e.abrupt("return",Object(y.f)());case 2:if(!n.chi||!n.thu){e.next=4;break}return e.abrupt("return",Object(y.d)());case 4:if(n.chi||n.thu){e.next=6;break}return e.abrupt("return",Object(y.d)());case 6:return c=!0,o=Object(p.convertMomentToString)(O.getInputFields(),t),r=Object(p.convertMomentToString)(O.getInputFields(),n),e.next=11,i(Object(I.d)(r));case 11:return r=e.sent,e.next=14,i(Object(k.c)(r));case 14:if(r=e.sent,!n){e.next=29;break}if(null===t||void 0===t?void 0:t.id){e.next=24;break}return e.next=19,i(Object(x.c)(r));case 19:c=e.sent,null===a||void 0===a||a(null===(l=c)||void 0===l?void 0:l.id),c=Boolean(c),e.next=29;break;case 24:return e.t0=Boolean,e.next=27,i(Object(x.f)(o,r));case 27:e.t1=e.sent,c=(0,e.t0)(e.t1);case 29:c&&i(d.a({modalId:S}));case 30:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(F.c)(p.MyModal,{form:!0,title:Object(F.b)("div",{children:"Thu Chi Ti\u1ec1n M\u1eb7t"}),visible:b,onClose:function(){i(d.a({modalId:S}))},onOkModal:function(e,t){return m.apply(this,arguments)},formOptions:Object(p.getFormItemFields)(O.getInputFields()),formProps:{labelCol:{span:8},wrapperCol:{span:16}},width:700,modalId:S,datas:s,children:[Object(F.b)(K.a,{}),Object(F.b)(M.a,{isAddNew:!0})]})},A=n(60),H=n(70),P=n(17),R=function(e){var t,n=e.dateTimePicker,a=Object(o.b)(),i=Object(o.c)((function(e){return e.account})).isDev,c=Object(o.c)((function(e){return e.bcThuChiTienMat})).castMoneyRemainData;return Object(F.b)(F.a,{children:Object(F.b)(s.a,{header:Object(F.b)("div",{className:"font-weight-bold",children:Object(F.b)("span",{children:"Th\xf4ng Tin Trang "})}),body:Object(F.c)("div",{className:"form-input-aside",style:{padding:"5px"},children:[Object(F.b)("div",{children:(null===n||void 0===n||null===(t=n.getMonthRender)||void 0===t?void 0:t.call(n))||null}),Object(F.c)("div",{className:"font-weight-bold",children:["T\u1ed3n cu\u1ed1i th\xe1ng tr\u01b0\u1edbc: ",Object(p.formatNumber)(c.conLai)]}),i&&Object(F.b)("div",{onClick:function(){Object(P.g)(),a(Object(x.g)())},children:Object(F.b)("button",{children:"C\u1eadp nh\u1eadt BCTC c\u0169"})})]}),footer:Object(F.b)("div",{children:Object(F.b)(A.a,{icon:Object(F.b)(H.a,{}),onClick:function(){a(Object(l.b)({tagPageId:u.d.bcThuChiTienMatModal}))},children:"\u0110\xf3ng m\u1edf r\u1ed9ng"})})})})},E=n(385),B=u.d.bcThuChiTienMatModal;t.default=function(){var e,t,n=Object(o.b)(),i=Object(o.c)((function(e){return e.bcThuChiTienMat})),u=i.tabsData,b=i.loading,m=i.pageSize,f=i.bcThuChiTienMats,g=Object(o.c)((function(e){var t;return null===(t=e.tagsPage)||void 0===t?void 0:t[B]})),p=(Object(o.c)((function(e){return e.table})).selectedRows,Object(o.c)((function(e){return e.account}))),v=p.accountData,T=(p.isDev,null===v||void 0===v||null===(e=v.paths)||void 0===e||null===(t=e.bcThuChiTienMat)||void 0===t?void 0:t.edit),w=Object(E.b)(),K=Object(a.a)(w,2),M=K[0],I=K[1],k=Object(C.a)({Instance:N.a,onPending:x.e,addSelectedId:x.a});return c.a.useEffect((function(){return n(Object(x.d)(M)),function(){Object(P.h)("bcThuChiTienMat")}}),[M]),Object(F.c)("div",{className:"bcThuChiTienMat-page",css:h.a,children:[Object(F.b)(s.b,{className:"tabs",options:u,activeKey:g?"aside":"",onTabClick:function(e){if("add"===e&&T){if(!T)return Object(y.f)();var t=new N.a;n(Object(d.c)({modalId:B,data:t.initData}))}else"aside"===e?n(Object(l.b)({tagPageId:B})):"taiExcel"===e&&n(Object(r.b)({tableId:B,constants:O,fileSheet:"bcThuChiTienMatSheet",fileName:"bcThuChiTienMatName"}))}}),Object(F.c)("div",{className:"tabs-main",style:{marginTop:"10px"},children:[g&&Object(F.b)(R,{dateTimePicker:I}),Object(F.b)("div",{className:"aside-main",children:Object(F.b)(j.a,{isEdit:T,constants:O,actions:k,datas:f,loading:b,modalId:B,isSelection:!0,pagination:!0,pageSize:m,onChange:function(e){n(Object(x.h)(e.pageSize))},onRow:function(e){return{onClick:function(){}}}})})]}),Object(F.b)(D,{})]})}},732:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(35),i=n(10),c={maTaiKhoan:{id:"maTaiKhoan",name:"M\xe3 t\xe0i kho\u1ea3n",className:"text-small font-weight-bold",width:100,isSearch:!0,form:{type:"input"}},tenTaiKhoan:{id:"tenTaiKhoan",name:"T\xean t\xe0i kho\u1ea3n",className:"text-small font-weight-bold",width:130,isSearch:!0,form:{type:"input",rules:[{message:"Ch\u01b0a nh\u1eadp",required:!0}]}},tenTaiKhoanNganHang:{id:"tenTaiKhoanNganHang",name:"T\xean t\xe0i kho\u1ea3n",className:"text-small",isSearch:!0,width:200},soTaiKhoan:{id:"soTaiKhoan",name:"S\u1ed1 t\xe0i kho\u1ea3n",className:"text-small",width:100,align:"",isSearch:!0,form:{rules:[{message:"Ch\u01b0a nh\u1eadp",required:!0}],type:"input"}},nganHang:{id:"nganHang",name:"Ng\xe2n h\xe0ng",className:"text-small",width:100,align:"",isSearch:!0,sorter:Object(i.sortByText)("nganHang"),form:{rules:[{message:"Ch\u01b0a nh\u1eadp",required:!0}],type:"input"}},chiNhanh:{id:"chiNhanh",name:"Chi nh\xe1nh",className:"text-small",width:100,align:"",form:{type:"input"}},loaiTaiKhoan:{id:"loaiTaiKhoan",name:"Lo\u1ea1i TK",className:"text-small",width:100,align:"",isSearch:!0,sorter:Object(i.sortByText)("loaiTaiKhoan"),form:{type:"input"}},getTableColumns:function(){return[a.a.stt,this.maTaiKhoan,this.tenTaiKhoan,this.soTaiKhoan,this.nganHang,this.chiNhanh,this.loaiTaiKhoan,a.a.active,a.a.editRow]},getInputFields:function(e){return[this.maTaiKhoan,this.tenTaiKhoan,this.soTaiKhoan,this.nganHang,this.chiNhanh,this.loaiTaiKhoan]},getFormViewFields:function(){var e=[this.maTaiKhoan,this.tenTaiKhoan,this.soTaiKhoan,this.nganHang,this.chiNhanh,this.loaiTaiKhoan];return Object(i.getFormItemViewFields)(e)}}},733:function(e,t,n){"use strict";var a=n(3),i=n.n(a),c=n(13),o=n(7),r=n(121),l=n(0),d=n.n(l),s=n(10),u=n(48),h=n(193),b=n(43),m=n(15),f=["modalId","constants","actions","modalTitle","onAfterAddFinish","isEdit"];t.a=function(e){var t=e.modalId,n=e.constants,a=e.actions,l=e.modalTitle,g=e.onAfterAddFinish,p=e.isEdit,O=Object(r.a)(e,f),j=Object(u.b)(),v=Object(u.c)((function(e){return e.form})),T=v.modal,w=v.edit,C=v.datas,N=d.a.useMemo((function(){var e;return!!(null===(e=T[t])||void 0===e?void 0:e.open)}),[T[t]]),x=d.a.useMemo((function(){return Object(s.getFormItemFields)(n.getInputFields(),w)}),[w]);function y(){return(y=Object(o.a)(i.a.mark((function e(n,c){var o,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=!0,!c){e.next=17;break}if(p){e.next=4;break}return e.abrupt("return",Object(b.f)());case 4:if(n.id){e.next=12;break}return e.next=7,j(a.onAddAsync({validatedValues:c}));case 7:o=e.sent,null===g||void 0===g||g(null===(r=o)||void 0===r?void 0:r.id),o=Boolean(o),e.next=17;break;case 12:return e.t0=Boolean,e.next=15,j(a.onUpdateAsync({currentData:n,validatedValues:c}));case 15:e.t1=e.sent,o=(0,e.t0)(e.t1);case 17:o&&j(h.a({modalId:t}));case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(m.b)(s.MyModal,Object(c.a)(Object(c.a)({},O),{},{form:!0,title:l,modalId:t,visible:N,onClose:function(e,t){return y.apply(this,arguments)},formOptions:x,formProps:{labelCol:{span:8},wrapperCol:{span:16}},datas:C}))}},738:function(e,t,n){"use strict";var a=n(0),i=n.n(a),c=n(10),o=n(48),r=n(384),l=n(15);t.a=function(e){var t=e.form,n=e.name,a=e.mode,d=e.label,s=e.labelCol,u=e.wrapperCol,h=e.rules,b=(e.isEdit,e.onAfterSelect),m=e.disabled,f=e.isDanhSachNL,g=Object(o.b)(),p=Object(o.c)((function(e){return e.diaDiem})).diaDiems,O=i.a.useMemo((function(){var e=Object.values(p).filter((function(e){return e.active}));return f&&(e=e.filter((function(e){return e.danhSachNL}))),e.map((function(e){var t="".concat(e.tenDiaDiem);return{value:e.id,label:t}}))}),[p]);var j=Object(l.b)(c.MyFormItem,{label:d||"\u0110\u1ecba \u0111i\u1ec3m",type:"select",name:n||"diaDiemId",innerProps:{mode:a,showSearch:!0,allowClear:!0,filterOption:c.onSelectSearch,onChange:function(e){g(Object(r.a)(e)),null===b||void 0===b||b(e)},disabled:m},options:O,rules:h||[]});return t?Object(l.b)(l.a,{children:Object(l.b)(c.MyForm,{form:t,labelCol:s||{span:8},wrapperCol:u||{span:16},children:j})}):Object(l.b)(l.a,{children:j})}},742:function(e,t,n){"use strict";n(0);var a=n(732),i=n(248),c=n(394),o=n(35),r=n(251),l=n(733),d=n(48),s=n(15);t.a=function(e){var t,n,u=e.onAfterAddFinish,h=Object(i.a)({Instance:c.a,onPending:r.f,addSelectedId:r.a}),b=Object(d.c)((function(e){return e.account})).accountData,m=null===b||void 0===b||null===(t=b.paths)||void 0===t||null===(n=t.taiKhoanNganHang)||void 0===n?void 0:n.edit;return Object(s.b)(l.a,{isEdit:m,modalId:o.d.taiKhoanNganHangModal,modalTitle:"T\xe0i kho\u1ea3n ng\xe2n h\xe0ng",actions:h,constants:a.a,onAfterAddFinish:u})}},743:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(35),i=n(10),c={tongDoanhThu:{id:"tongDoanhThu",name:"T\u1ed5ng doanh thu",width:130,className:"text-small font-weight-bold text-danger",align:"right",render:i.numberRender},ngay:{id:"ngay",name:"Ng\xe0y",width:80,className:"text-small font-weight-bold",align:"center",form:{type:"date-picker",rules:[{required:!0,message:"Ch\u01b0a nh\u1eadp"}]}},thu:{id:"thu",name:"Thu",width:100,className:"text-small font-weight-bold text-success",align:"right",form:{type:"input-number-format"},render:i.numberRender},chi:{id:"chi",name:"Chi",width:100,align:"right",className:"text-small font-weight-bold text-danger",form:{type:"input-number-format"},render:i.numberRender},conLai:{id:"conLai",name:"C\xf2n l\u1ea1i",width:100,align:"right",className:"text-small font-weight-bold",render:i.numberRender},dienGiai:{id:"dienGiai",name:"Di\u1ec5n gi\u1ea3i",width:200,className:"text-small",isSearch:!0,form:{type:"text-area"}},getTableColumns:function(){return[a.a.stt,a.a.active,a.a.editRow]},getInputFields:function(){return[]},getExcelFields:function(){return[a.a.active]}}},758:function(e,t,n){"use strict";var a=n(0),i=n.n(a),c=n(60),o=n(118),r=n(10),l=n(48),d=n(251),s=n(742),u=n(73),h=n(193),b=n(35),m=n(15);t.a=function(e){var t=e.form,n=e.name,a=e.mode,f=e.label,g=e.labelCol,p=e.wrapperCol,O=e.rules,j=e.isAddNew,v=Object(l.b)(),T=Object(l.c)((function(e){return e.taiKhoanNganHang})).taiKhoanNganHangs,w=i.a.useMemo((function(){return Object.values(T).filter((function(e){return e.active})).map((function(e){var t="".concat(e.maTaiKhoan||""," - ").concat(e.tenTaiKhoan," - ").concat(e.soTaiKhoan," - ").concat(e.nganHang);return{value:e.id,label:t}}))}),[T]);var C=Object(m.b)(r.MyFormItem,{label:f||"T\xe0i kho\u1ea3n ng\xe2n h\xe0ng",type:"select",name:n||"taiKhoanNganHangId",innerProps:{mode:a,showSearch:!0,allowClear:!0,filterOption:r.onSelectSearch,onChange:function(e){v(Object(d.a)(e))},notFoundContent:j?Object(m.b)("div",{children:Object(m.b)(c.a,{icon:Object(m.b)(u.a,{}),type:"primary",onClick:function(){return v(Object(h.c)({modalId:b.d.taiKhoanNganHangModal,data:{}}))},children:"Th\xeam m\u1edbi"})}):Object(m.b)(o.a,{})},options:w,rules:O||[]});return t?Object(m.c)(m.a,{children:[Object(m.b)(r.MyForm,{form:t,labelCol:g||{span:8},wrapperCol:p||{span:16},children:C}),Object(m.b)(s.a,{onAfterAddFinish:function(e){t.setFieldsValue({taiKhoanNganHangId:e})}})]}):Object(m.c)(m.a,{children:[C,Object(m.b)(s.a,{})]})}}}]);