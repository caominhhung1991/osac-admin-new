(this["webpackJsonpreact-antd-admin"]=this["webpackJsonpreact-antd-admin"]||[]).push([[21],{1082:function(e,n,a){"use strict";a.r(n);var t=a(0),i=a.n(t),h=a(48),o=a(390),c=a(32),s=a(253),r=a(12),l=a(9),d=a(760),u={tenDeNghi:{id:"tenDeNghi",name:"N\u1ed9i dung",width:200,className:"text-small font-weight-bold",isSearch:!0},soLanViPham:{id:"soLanViPham",name:"Input number",width:100,className:"text-small font-weight-bold",align:"center",form:{type:"input-number-format",rules:[{required:!0,message:"Ch\u01b0a nh\u1eadp"}]}},time:{id:"time",name:"Time",width:100,className:"text-small",form:{type:"date-picker",rules:[{required:!0,message:"Ch\u01b0a nh\u1eadp"}]}},getTableColumns:function(){return[c.a.stt,Object(r.a)(Object(r.a)({},d.a.maPhieu),{},{id:"id",sorter:Object(l.sortByText)("id")}),d.a.loaiDeNghi,d.a.tongTienDeNghi,d.a.ngayDeNghi,this.tenDeNghi,c.a.capNhatRow]},getInputFields:function(){return[]},getExcelFields:function(){return[c.a.stt,Object(r.a)(Object(r.a)({},d.a.maPhieu),{},{id:"id",sorter:Object(l.sortByText)("id")}),d.a.loaiDeNghi,d.a.tongTienDeNghi,d.a.ngayDeNghi,this.tenDeNghi]}},g=a(392),m=a(380),N=a(252),b=a(495),T=a(195),f=a(49),D=a(78),p=a(842),j=a(194),O=a(799),v=a(15),y=c.d.danhSachPDNTTModal;n.default=function(){var e,n,a=Object(h.b)(),t=Object(f.u)(),c=Object(h.c)((function(e){return e.pDNDaDeNghi})),r=c.tabsData,l=c.loading,d=c.pDNDaDeNghis,x=Object(N.a)({Instance:m.a,onPending:b.d,addSelectedId:b.a}),w=Object(h.c)((function(e){return e.account})).accountData,K=null===w||void 0===w||null===(e=w.paths)||void 0===e||null===(n=e.danhSachPDNTT)||void 0===n?void 0:n.edit;return i.a.useEffect((function(){a(Object(b.c)())}),[]),Object(v.c)("div",{className:"pDNDaDeNghi-page",css:s.a,children:[Object(v.b)(o.b,{className:"tabs",options:r,activeKey:"add",onTabClick:function(e){"add"===e?(console.log(e),t(O.a.themPhieuDNTT)):"taiExcel"===e?a(Object(T.b)({tableId:y,constants:u,fileSheet:"pDNDaDeNghiSheet",fileName:"pDNDaDeNghiName"})):"print"===e&&a(Object(j.c)({modalId:y}))}}),Object(v.b)("div",{className:"tabs-main",style:{marginTop:"10px"},children:Object(v.b)("div",{className:"aside-main",children:Object(v.b)(g.a,{isEdit:K,constants:u,actions:x,datas:d,loading:l,modalId:y,isSelection:!0,pagination:!0,onCallbackDataSource:function(e){return Object(D.orderBy)(e,"ngayDeNghi","desc")}})})}),Object(v.b)(p.a,{isEdit:K,visibleModalId:y,modalId:y})]})}},751:function(e,n,a){"use strict";a.d(n,"a",(function(){return h}));var t=a(32),i=a(9),h={maTaiKhoan:{id:"maTaiKhoan",name:"M\xe3 t\xe0i kho\u1ea3n",className:"text-small font-weight-bold",width:100,isSearch:!0,form:{type:"input"}},tenTaiKhoan:{id:"tenTaiKhoan",name:"T\xean t\xe0i kho\u1ea3n",className:"text-small font-weight-bold",width:130,isSearch:!0,form:{type:"input",rules:[{message:"Ch\u01b0a nh\u1eadp",required:!0}]}},tenTaiKhoanNganHang:{id:"tenTaiKhoanNganHang",name:"T\xean t\xe0i kho\u1ea3n",className:"text-small",isSearch:!0,width:200},soTaiKhoan:{id:"soTaiKhoan",name:"S\u1ed1 t\xe0i kho\u1ea3n",className:"text-small",width:100,align:"",isSearch:!0,form:{rules:[{message:"Ch\u01b0a nh\u1eadp",required:!0}],type:"input"}},nganHang:{id:"nganHang",name:"Ng\xe2n h\xe0ng",className:"text-small",width:100,align:"",isSearch:!0,sorter:Object(i.sortByText)("nganHang"),form:{rules:[{message:"Ch\u01b0a nh\u1eadp",required:!0}],type:"input"}},chiNhanh:{id:"chiNhanh",name:"Chi nh\xe1nh",className:"text-small",width:100,align:"",form:{type:"input"}},loaiTaiKhoan:{id:"loaiTaiKhoan",name:"Lo\u1ea1i TK",className:"text-small",width:100,align:"",isSearch:!0,sorter:Object(i.sortByText)("loaiTaiKhoan"),form:{type:"input"}},getTableColumns:function(){return[t.a.stt,this.maTaiKhoan,this.tenTaiKhoan,this.soTaiKhoan,this.nganHang,this.chiNhanh,this.loaiTaiKhoan,t.a.active,t.a.editRow]},getInputFields:function(e){return[this.maTaiKhoan,this.tenTaiKhoan,this.soTaiKhoan,this.nganHang,this.chiNhanh,this.loaiTaiKhoan]},getFormViewFields:function(){var e=[this.maTaiKhoan,this.tenTaiKhoan,this.soTaiKhoan,this.nganHang,this.chiNhanh,this.loaiTaiKhoan];return Object(i.getFormItemViewFields)(e)}}},760:function(e,n,a){"use strict";a.d(n,"a",(function(){return g}));var t=a(12),i=(a(0),a(32)),h=a(9),o={filters:[{value:"chuaXacNhan",text:"Ch\u01b0a x\xe1c nh\u1eadn"},{value:"daXacNhan",text:"\u0110\xe3 x\xe1c nh\u1eadn"}],onFilter:function(e,n){return n.trangThai===e}},c=a(751),s=a(121),r=a(512),l=a(48),d=a(15),u=function(e){var n,a=e.row,t=e.cell,i=Object(l.c)((function(e){return e.account})).accounts;return((null===a||void 0===a||null===(n=a.phanQuyenXacNhan)||void 0===n?void 0:n.danhSachNguoiDuyet)||[]).map((function(e){var n=((null===i||void 0===i?void 0:i[e])||{}).hoTen;return(null===t||void 0===t?void 0:t[e])?Object(d.b)(r.a,{status:"success",size:"small",text:n},e):Object(d.b)(r.a,{status:"error",size:"small",text:n},e)}))},g={maPhieu:{id:"maPhieu",name:"M\xe3 phi\u1ebfu",width:105,className:"text-10 font-weight-bold",isSearch:!0,sorter:Object(h.sortByText)("maPhieu"),form:{type:"input",innerProps:{disabled:!0}}},loaiDeNghi:{id:"loaiDeNghi",name:"Lo\u1ea1i \u0110N",width:100,isSearch:!0,sorter:Object(h.sortByText)("loaiDeNghi"),align:"center",className:"text-small",render:function(e){var n;return(null===i.c||void 0===i.c||null===(n=i.c[e])||void 0===n?void 0:n.label)||e}},nguoiDeNghi:{id:"nguoiDeNghi",name:"Ng\u01b0\u1eddi \u0110N",width:130,className:"text-10 font-weight-bold",isSearch:!0,sorter:Object(h.sortByText)("nguoiDeNghi"),form:{type:"input",rules:[{required:!0,message:"Ch\u01b0a nh\u1eadp"}]}},ngayThanhToan:{id:"ngayThanhToan",name:"Ng\xe0y TT",width:90,className:"text-10",align:"center",isSearch:!0,sorter:Object(h.sortByText)("ngayThanhToan"),form:{type:"date-picker",rules:[{required:!0,message:"Ch\u01b0a nh\u1eadp"}]}},ngayDeNghi:{id:"ngayDeNghi",name:"Ng\xe0y \u0110N",width:95,className:"text-10",align:"center",isSearch:!0,sorter:Object(h.sortByNumber)("dayId"),form:{type:"date-picker",innerProps:{disabled:!0}}},tongTienDeNghi:{id:"tongTienDeNghi",name:"T\u1ed5ng ti\u1ec1n",width:110,className:"text-small font-weight-bold text-danger",align:"right",isSearch:!0,sorter:Object(h.sortByNumber)("tongTienDeNghi"),render:h.numberRender},noiDungDeNghi:{id:"noiDungDeNghi",name:"N\u1ed9i dung \u0110N",width:200,isSearch:!0,className:"text-10",form:{type:"text-area",rules:[{required:!0,message:"Ch\u01b0a nh\u1eadp"}]}},trangThai:{id:"trangThai",name:"Tr\u1ea1ng th\xe1i",width:120,className:"text-small font-weight-bold",filters:o.filters,onFilter:o.onFilter,render:function(e){var n=o.filters.find((function(n){return n.value===e}));return(null===n||void 0===n?void 0:n.text)||e}},xacNhans:{id:"xacNhans",name:"X\xe1c nh\u1eadn",className:"text-small",width:130,render:function(e,n){return Object(d.b)(u,{cell:e,row:n})}},getTableColumns:function(){return[Object(t.a)(Object(t.a)({},i.a.stt),{},{fixed:!1}),this.maPhieu,this.loaiDeNghi,this.nguoiDeNghi,s.a.tenBoPhan,this.ngayDeNghi,this.ngayThanhToan,this.tongTienDeNghi,this.noiDungDeNghi,Object(t.a)(Object(t.a)({},c.a.tenTaiKhoanNganHang),{},{className:"text-8 font-weight-bold"}),this.xacNhans,i.a.capNhatRow]},getInputFields:function(){return[this.nguoiDeNghi,this.ngayThanhToan,this.noiDungDeNghi]},getExcelFields:function(){return[this.maPhieu,this.nguoiDeNghi,this.ngayDeNghi,this.ngayThanhToan,this.tongTienDeNghi,this.noiDungDeNghi,Object(t.a)(Object(t.a)({},c.a.tenTaiKhoanNganHang),{},{className:"text-8 font-weight-bold"})]}}},799:function(e,n,a){"use strict";a.d(n,"a",(function(){return t}));var t={themPhieuDNTT:"/quan-ly-ca-nhan/phieu-de-nghi-ca-nhan/de-nghi-thanh-toan",themPhieuDNTU:"/quan-ly-ca-nhan/phieu-de-nghi-ca-nhan/de-nghi-tam-ung"}},842:function(e,n,a){"use strict";var t=a(0),i=a.n(t),h=a(49),o=a(351),c=a(9),s=a(117),r=a(60),l=a(48),d=a(194),u=a(32),g=a(374),m=a(799),N=a(39),b=a(15);n.a=function(e){var n,a,t=e.modalId,T=e.visibleModalId,f=e.isEdit,D=i.a.useMemo((function(){return T||u.d.inPhieuDeNghiModal}),[T]),p=Object(l.c)((function(e){return e.account})).accountData,j=(null===p||void 0===p||null===(n=p.paths)||void 0===n||null===(a=n.danhSachPDN)||void 0===a?void 0:a.edit)||f,O=i.a.useMemo((function(){return t||u.d.inPhieuDeNghiModal}),[t]),v=Object(l.b)(),y=Object(h.u)(),x=Object(l.c)((function(e){return e.form})),w=x.modal,K=x.datas,P=Object(l.c)((function(e){return e.table})).selectedRows,S=K[O],C=w[D],I=i.a.useMemo((function(){return!!(null===C||void 0===C?void 0:C.open)}),[C]),k=i.a.useMemo((function(){var e;return(null===(e=u.c[null===S||void 0===S?void 0:S.loaiDeNghi])||void 0===e?void 0:e.label)||""}),[S]);function F(){v(d.a({modalId:D}))}function M(e){var n=(null===P||void 0===P?void 0:P[O])||[];if(0===n.length)return s.b.warning("Ch\u01b0a ch\u1ecdn \u0111\u1ec1 ngh\u1ecb! ^^");v(Object(g.a)(n,e)),F()}return Object(b.c)(c.MyModal,{title:"In Phi\u1ebfu \u0110\u1ec1 Ngh\u1ecb",visible:I,onClose:F,width:700,modalId:O,datas:{},children:[!!S||Object(b.c)("div",{children:[Object(b.b)("strong",{children:"In PDF: "}),Object(b.b)(r.a,{onClick:function(){return M("A4")},type:"primary",children:"K\xedch th\u01b0\u1edbc A4"}),Object(b.b)(r.a,{onClick:function(){return M("A5")},children:"K\xedch th\u01b0\u1edbc A5"})]}),!!S&&Object(b.c)("div",{style:{marginTop:"10px"},children:[Object(b.b)("strong",{children:"Ch\u1ee9c n\u0103ng: "}),Object(b.c)(r.a,{onClick:function(){if(!j)return Object(N.h)();"deNghiThanhToan"===S.loaiDeNghi?y(m.a.themPhieuDNTT):"deNghiTamUng"===S.loaiDeNghi?y(m.a.themPhieuDNTU):s.b.error("Kh\xf4ng c\xf3 lo\u1ea1i phi\u1ebfu!")},children:["Ch\u1ec9nh s\u1eeda phi\u1ebfu ",k," ",null===S||void 0===S?void 0:S.id]}),Object(b.b)(r.a,{icon:Object(b.b)(o.a,{}),onClick:function(){v(Object(g.a)([S],"A5")),v(Object(g.a)([S],"A4"))},children:"In phi\u1ebfu"})]})]})}}}]);