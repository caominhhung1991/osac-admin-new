(this["webpackJsonpreact-antd-admin"]=this["webpackJsonpreact-antd-admin"]||[]).push([[15],{1069:function(e,t,n){"use strict";n.r(t);var a=n(34),i=n(0),c=n.n(i),o=n(48),r=n(196),l=n(396),s=n(195),d=n(394),u=n(30),h=n(254),b=n(10),m=n(764),f=n(135),g=n(758),p=n(9),O={maPhieu:{id:"maPhieu",name:"Phi\u1ebfu",width:80,className:"text-small font-weight-bold",align:"center",isSearch:!0,sorter:Object(p.sortByText)("maPhieu")},getTableColumns:function(){return[Object(b.a)(Object(b.a)({},u.a.stt),{},{fixed:!1}),this.maPhieu,m.a.ngay,m.a.thu,m.a.chi,m.a.conLai,f.a.tenDiaDiem,m.a.dienGiai,Object(b.a)(Object(b.a)({},g.a.tenTaiKhoanNganHang),{},{width:220}),u.a.capNhatRow]},getInputFields:function(){return[m.a.ngay,m.a.thu,m.a.chi,m.a.dienGiai]},getExcelFields:function(){return[u.a.stt,this.maPhieu,m.a.ngay,m.a.thu,m.a.chi,m.a.conLai,f.a.tenDiaDiem,m.a.dienGiai,g.a.tenTaiKhoanNganHang]}},j=n(395),v=n(3),T=n.n(v),w=n(8),C=n(434),N=n(39),x=n(757),y=n(785),K=n(256),M=n(397),I=n(15),S=u.d.bcThuChiTienMatModal,F=function(e){var t,n,a=e.onAfterAddFinish,i=Object(o.b)(),r=Object(o.c)((function(e){return e.form})),l=r.modal,d=r.datas,u=Object(o.c)((function(e){return e.account})).accountData,h=null===u||void 0===u||null===(t=u.paths)||void 0===t||null===(n=t.bcThuChiTienMat)||void 0===n?void 0:n.edit,b=c.a.useMemo((function(){var e;return!!(null===l||void 0===l||null===(e=l[S])||void 0===e?void 0:e.open)}),[l[S]]);function m(){return(m=Object(w.a)(T.a.mark((function e(t,n){var c,o,r,l;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h){e.next=2;break}return e.abrupt("return",Object(N.h)());case 2:if(!n.chi||!n.thu){e.next=4;break}return e.abrupt("return",Object(N.f)());case 4:return c=!0,o=Object(p.convertMomentToString)(O.getInputFields(),t),r=Object(p.convertMomentToString)(O.getInputFields(),n),e.next=9,i(Object(K.d)(r));case 9:return r=e.sent,e.next=12,i(Object(M.c)(r));case 12:if(r=e.sent,!n){e.next=27;break}if(null===t||void 0===t?void 0:t.id){e.next=22;break}return e.next=17,i(Object(C.c)(r));case 17:c=e.sent,null===a||void 0===a||a(null===(l=c)||void 0===l?void 0:l.id),c=Boolean(c),e.next=27;break;case 22:return e.t0=Boolean,e.next=25,i(Object(C.f)(o,r));case 25:e.t1=e.sent,c=(0,e.t0)(e.t1);case 27:c&&i(s.a({modalId:S}));case 28:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(I.c)(p.MyModal,{form:!0,title:Object(I.b)("div",{children:"Thu Chi Ti\u1ec1n M\u1eb7t"}),visible:b,onClose:function(){i(s.a({modalId:S}))},onOkModal:function(e,t){return m.apply(this,arguments)},formOptions:Object(p.getFormItemFields)(O.getInputFields()),formProps:{labelCol:{span:8},wrapperCol:{span:16}},width:700,modalId:S,datas:d,children:[Object(I.b)(x.a,{}),Object(I.b)(y.a,{isAddNew:!0})]})},k=n(194),D=n(253),A=n(61),H=n(70),P=n(17),R=function(e){var t,n=e.dateTimePicker,a=Object(o.b)(),i=Object(o.c)((function(e){return e.account})).isDev,c=Object(o.c)((function(e){return e.bcThuChiTienMat})).castMoneyRemainData;return Object(I.b)(I.a,{children:Object(I.b)(d.a,{header:Object(I.b)("div",{className:"font-weight-bold",children:Object(I.b)("span",{children:"Th\xf4ng Tin Trang "})}),body:Object(I.c)("div",{className:"form-input-aside",style:{padding:"5px"},children:[Object(I.b)("div",{children:(null===n||void 0===n||null===(t=n.getMonthRender)||void 0===t?void 0:t.call(n))||null}),Object(I.c)("div",{className:"font-weight-bold",children:["T\u1ed3n cu\u1ed1i th\xe1ng tr\u01b0\u1edbc: ",Object(p.formatNumber)(c.conLai)]}),i&&Object(I.b)("div",{onClick:function(){Object(P.h)(),a(Object(C.g)())},children:Object(I.b)("button",{children:"C\u1eadp nh\u1eadt BCTC c\u0169"})})]}),footer:Object(I.b)("div",{children:Object(I.b)(A.a,{icon:Object(I.b)(H.a,{}),onClick:function(){a(Object(l.b)({tagPageId:u.d.bcThuChiTienMatModal}))},children:"\u0110\xf3ng m\u1edf r\u1ed9ng"})})})})},B=n(399),E=u.d.bcThuChiTienMatModal;t.default=function(){var e,t,n=Object(o.b)(),i=Object(o.c)((function(e){return e.bcThuChiTienMat})),u=i.tabsData,b=i.loading,m=i.pageSize,f=i.bcThuChiTienMats,g=Object(o.c)((function(e){var t;return null===(t=e.tagsPage)||void 0===t?void 0:t[E]})),p=Object(o.c)((function(e){return e.account})).accountData,v=null===p||void 0===p||null===(e=p.paths)||void 0===e||null===(t=e.bcThuChiTienMat)||void 0===t?void 0:t.edit,T=Object(B.b)(),w=Object(a.a)(T,2),x=w[0],y=w[1],K=Object(D.a)({Instance:k.a,onPending:C.e,addSelectedId:C.a});return c.a.useEffect((function(){return n(Object(C.d)(x)),function(){Object(P.i)("bcThuChiTienMat")}}),[x]),Object(I.c)("div",{className:"bcThuChiTienMat-page",css:h.a,children:[Object(I.b)(d.b,{className:"tabs",options:u,activeKey:g?"aside":"",onTabClick:function(e){if("add"===e&&v){if(!v)return Object(N.h)();var t=new k.a;n(Object(s.c)({modalId:E,data:t.initData}))}else"aside"===e?n(Object(l.b)({tagPageId:E})):"taiExcel"===e&&n(Object(r.b)({tableId:E,constants:O,fileSheet:"bcThuChiTienMatSheet",fileName:"bcThuChiTienMatName"}))}}),Object(I.c)("div",{className:"tabs-main",style:{marginTop:"10px"},children:[g&&Object(I.b)(R,{dateTimePicker:y}),Object(I.b)("div",{className:"aside-main",children:Object(I.b)(j.a,{isEdit:v,constants:O,actions:K,datas:f,loading:b,modalId:E,isSelection:!0,pagination:!0,pageSize:m,onChange:function(e){n(Object(C.h)(e.pageSize))}})})]}),Object(I.b)(F,{})]})}},757:function(e,t,n){"use strict";var a=n(0),i=n.n(a),c=n(9),o=n(48),r=n(397),l=n(15);t.a=function(e){var t=e.form,n=e.name,a=e.mode,s=e.label,d=e.labelCol,u=e.wrapperCol,h=e.rules,b=e.onAfterSelect,m=e.disabled,f=e.isDanhSachNL,g=e.isDontStoreState,p=Object(o.b)(),O=Object(o.c)((function(e){return e.diaDiem})).diaDiems,j=i.a.useMemo((function(){var e=Object.values(O).filter((function(e){return e.active}));return f&&(e=e.filter((function(e){return e.danhSachNL}))),e.map((function(e){var t="".concat(e.tenDiaDiem);return{value:e.id,label:t}}))}),[O]);var v=Object(l.b)(c.MyFormItem,{label:s||"\u0110\u1ecba \u0111i\u1ec3m",type:"select",name:n||"diaDiemId",innerProps:{mode:a,showSearch:!0,allowClear:!0,filterOption:c.onSelectSearch,onChange:function(e){g||p(Object(r.a)(e)),null===b||void 0===b||b(e)},disabled:m},options:j,rules:h||[]});return t?Object(l.b)(l.a,{children:Object(l.b)(c.MyForm,{form:t,labelCol:d||{span:8},wrapperCol:u||{span:16},children:v})}):Object(l.b)(l.a,{children:v})}},758:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(30),i=n(9),c={maTaiKhoan:{id:"maTaiKhoan",name:"M\xe3 t\xe0i kho\u1ea3n",className:"text-small font-weight-bold",width:100,isSearch:!0,form:{type:"input"}},tenTaiKhoan:{id:"tenTaiKhoan",name:"T\xean t\xe0i kho\u1ea3n",className:"text-small font-weight-bold",width:130,isSearch:!0,form:{type:"input",rules:[{message:"Ch\u01b0a nh\u1eadp",required:!0}]}},tenTaiKhoanNganHang:{id:"tenTaiKhoanNganHang",name:"T\xean t\xe0i kho\u1ea3n",className:"text-small",isSearch:!0,width:200},soTaiKhoan:{id:"soTaiKhoan",name:"S\u1ed1 t\xe0i kho\u1ea3n",className:"text-small",width:100,align:"",isSearch:!0,form:{rules:[{message:"Ch\u01b0a nh\u1eadp",required:!0}],type:"input"}},nganHang:{id:"nganHang",name:"Ng\xe2n h\xe0ng",className:"text-small",width:100,align:"",isSearch:!0,sorter:Object(i.sortByText)("nganHang"),form:{rules:[{message:"Ch\u01b0a nh\u1eadp",required:!0}],type:"input"}},chiNhanh:{id:"chiNhanh",name:"Chi nh\xe1nh",className:"text-small",width:100,align:"",form:{type:"input"}},loaiTaiKhoan:{id:"loaiTaiKhoan",name:"Lo\u1ea1i TK",className:"text-small",width:100,align:"",isSearch:!0,sorter:Object(i.sortByText)("loaiTaiKhoan"),form:{type:"input"}},getTableColumns:function(){return[a.a.stt,this.maTaiKhoan,this.tenTaiKhoan,this.soTaiKhoan,this.nganHang,this.chiNhanh,this.loaiTaiKhoan,a.a.active,a.a.editRow]},getInputFields:function(e){return[this.maTaiKhoan,this.tenTaiKhoan,this.soTaiKhoan,this.nganHang,this.chiNhanh,this.loaiTaiKhoan]},getFormViewFields:function(){var e=[this.maTaiKhoan,this.tenTaiKhoan,this.soTaiKhoan,this.nganHang,this.chiNhanh,this.loaiTaiKhoan];return Object(i.getFormItemViewFields)(e)}}},760:function(e,t,n){"use strict";var a=n(3),i=n.n(a),c=n(10),o=n(8),r=n(123),l=n(0),s=n.n(l),d=n(9),u=n(48),h=n(195),b=n(39),m=n(15),f=["modalId","constants","actions","modalTitle","onAfterAddFinish","isEdit"];t.a=function(e){var t=e.modalId,n=e.constants,a=e.actions,l=e.modalTitle,g=e.onAfterAddFinish,p=e.isEdit,O=Object(r.a)(e,f),j=Object(u.b)(),v=Object(u.c)((function(e){return e.form})),T=v.modal,w=v.edit,C=v.datas,N=s.a.useMemo((function(){var e;return!!(null===(e=T[t])||void 0===e?void 0:e.open)}),[T[t]]),x=s.a.useMemo((function(){return Object(d.getFormItemFields)(n.getInputFields(),w)}),[w]);function y(){return(y=Object(o.a)(i.a.mark((function e(n,c){var o,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=!0,!c){e.next=17;break}if(p){e.next=4;break}return e.abrupt("return",Object(b.h)());case 4:if(n.id){e.next=12;break}return e.next=7,j(a.onAddAsync({validatedValues:c}));case 7:o=e.sent,null===g||void 0===g||g(null===(r=o)||void 0===r?void 0:r.id),o=Boolean(o),e.next=17;break;case 12:return e.t0=Boolean,e.next=15,j(a.onUpdateAsync({currentData:n,validatedValues:c}));case 15:e.t1=e.sent,o=(0,e.t0)(e.t1);case 17:o&&j(h.a({modalId:t}));case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(m.b)(d.MyModal,Object(c.a)(Object(c.a)({},O),{},{form:!0,title:l,modalId:t,visible:N,onClose:function(e,t){return y.apply(this,arguments)},formOptions:x,formProps:{labelCol:{span:8},wrapperCol:{span:16}},datas:C}))}},764:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(30),i=n(9),c={tongDoanhThu:{id:"tongDoanhThu",name:"T\u1ed5ng doanh thu",width:130,className:"text-small font-weight-bold text-danger",align:"right",render:i.numberRender},ngay:{id:"ngay",name:"Ng\xe0y",width:80,className:"text-small font-weight-bold",align:"center",form:{type:"date-picker",rules:[{required:!0,message:"Ch\u01b0a nh\u1eadp"}]}},thu:{id:"thu",name:"Thu",width:100,className:"text-small font-weight-bold text-success",align:"right",form:{type:"input-number-format"},render:i.numberRender},chi:{id:"chi",name:"Chi",width:100,align:"right",className:"text-small font-weight-bold text-danger",form:{type:"input-number-format"},render:i.numberRender},conLai:{id:"conLai",name:"C\xf2n l\u1ea1i",width:100,align:"right",className:"text-small font-weight-bold",render:i.numberRender},dienGiai:{id:"dienGiai",name:"Di\u1ec5n gi\u1ea3i",width:200,className:"text-small",isSearch:!0,form:{type:"text-area"}},getTableColumns:function(){return[a.a.stt,a.a.active,a.a.editRow]},getInputFields:function(){return[]},getExcelFields:function(){return[a.a.active]}}},769:function(e,t,n){"use strict";n(0);var a=n(758),i=n(253),c=n(409),o=n(30),r=n(256),l=n(760),s=n(48),d=n(15);t.a=function(e){var t,n,u=e.onAfterAddFinish,h=Object(i.a)({Instance:c.a,onPending:r.f,addSelectedId:r.a}),b=Object(s.c)((function(e){return e.account})).accountData,m=null===b||void 0===b||null===(t=b.paths)||void 0===t||null===(n=t.taiKhoanNganHang)||void 0===n?void 0:n.edit;return Object(d.b)(l.a,{isEdit:m,modalId:o.d.taiKhoanNganHangModal,modalTitle:"T\xe0i kho\u1ea3n ng\xe2n h\xe0ng",actions:h,constants:a.a,onAfterAddFinish:u})}},785:function(e,t,n){"use strict";var a=n(0),i=n.n(a),c=n(61),o=n(119),r=n(9),l=n(48),s=n(256),d=n(769),u=n(58),h=n(195),b=n(30),m=n(15);t.a=function(e){var t=e.form,n=e.name,a=e.mode,f=e.label,g=e.labelCol,p=e.wrapperCol,O=e.rules,j=e.isAddNew,v=Object(l.b)(),T=Object(l.c)((function(e){return e.taiKhoanNganHang})).taiKhoanNganHangs,w=i.a.useMemo((function(){return Object.values(T).filter((function(e){return e.active})).map((function(e){var t="".concat(e.maTaiKhoan||""," - ").concat(e.tenTaiKhoan," - ").concat(e.soTaiKhoan," - ").concat(e.nganHang);return{value:e.id,label:t}}))}),[T]);var C=Object(m.b)(r.MyFormItem,{label:f||"T\xe0i kho\u1ea3n ng\xe2n h\xe0ng",type:"select",name:n||"taiKhoanNganHangId",innerProps:{mode:a,showSearch:!0,allowClear:!0,filterOption:r.onSelectSearch,onChange:function(e){v(Object(s.a)(e))},notFoundContent:j?Object(m.b)("div",{children:Object(m.b)(c.a,{icon:Object(m.b)(u.a,{}),type:"primary",onClick:function(){return v(Object(h.c)({modalId:b.d.taiKhoanNganHangModal,data:{}}))},children:"Th\xeam m\u1edbi"})}):Object(m.b)(o.a,{})},options:w,rules:O||[]});return t?Object(m.c)(m.a,{children:[Object(m.b)(r.MyForm,{form:t,labelCol:g||{span:8},wrapperCol:p||{span:16},children:C}),Object(m.b)(d.a,{onAfterAddFinish:function(e){t.setFieldsValue({taiKhoanNganHangId:e})}})]}):Object(m.c)(m.a,{children:[C,Object(m.b)(d.a,{})]})}}}]);