(this["webpackJsonpreact-antd-admin"]=this["webpackJsonpreact-antd-admin"]||[]).push([[22],{659:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(12),i=n(5),c=n.n(i),r=n(32),o=n(9),s=n(25);function u(e){var t=e.Instance,n=e.onPending,i=e.addSelectedId,u=e.onDelete,d=e.onActive;return{onAddAsync:function(e){return function(){var a=Object(o.a)(c.a.mark((function a(o){var u,d,l,h,b;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return u=e.validatedValues,d=u.otherPath,o(n(!0)),l=new t,h=d?[].concat(Object(r.a)(l.pathDatas),Object(r.a)(d)):l.pathDatas,a.next=7,Object(s.a)(h,u);case 7:return b=a.sent,i&&o(null===i||void 0===i?void 0:i(null===b||void 0===b?void 0:b.id)),o(n(!1)),a.abrupt("return",b);case 11:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},onUpdateAsync:function(e){return function(){var a=Object(o.a)(c.a.mark((function a(i){var o,u,d,l,h,b;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o=e.currentData,u=e.validatedValues,d=o.id,l=o.otherPath,i(n(!0)),h=new t,b=l?[].concat(Object(r.a)(h.pathDatas),Object(r.a)(l),[d]):[].concat(Object(r.a)(h.pathDatas),[d]),a.next=7,Object(s.h)(b,u);case 7:return i(n(!1)),a.abrupt("return",!0);case 9:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},onActiveAsync:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var a=Object(o.a)(c.a.mark((function a(i){var o,u,l,h,b;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o=e.id,u=e.active,l=e.otherPath,i(n(!0)),h=new t,b=l?[].concat(Object(r.a)(h.pathDatas),Object(r.a)(l),[o]):[].concat(Object(r.a)(h.pathDatas),[o]),a.next=6,Object(s.h)(b,{active:u});case 6:d&&i(d(o,u)),i(n(!1));case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},onDeleteAsync:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var i=Object(o.a)(c.a.mark((function i(o){var d,l,h,b,f,p,v,m;return c.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return l=e.id,h=e.otherPath,o(n(!0)),b=new t,f=h?[].concat(Object(r.a)(h),[l]).join("/"):l,p=b.getPathDatas(f),v=b.getPathDeleted(f),d={},Object(a.a)(d,p,null),Object(a.a)(d,v,e),m=d,i.next=9,Object(s.h)(null,m);case 9:return u&&o(u(e)),o(n(!1)),i.abrupt("return",!0);case 12:case"end":return i.stop()}}),i)})));return function(e){return i.apply(this,arguments)}}()}}}},660:function(e,t,n){"use strict";var a=n(662);n.d(t,"a",(function(){return a.a}));n(661),n(663),n(664);var i=n(665);n.d(t,"b",(function(){return i.a}))},666:function(e,t,n){"use strict";var a=n(44),i=n(29),c=n(667),r=n(0),o=n.n(r),s=n(54),u=n(11),d=n(327),l=n(14),h=["modalId","constants","actions","datas","loading","isSelection","form","rowSelection","summary"];t.a=function(e){var t=e.modalId,n=e.constants,r=e.actions,b=e.datas,f=e.loading,p=e.isSelection,v=e.form,m=e.rowSelection,g=e.summary,C=Object(c.a)(e,h),O=Object(s.b)(),j=Object(s.c)((function(e){return e.table})).selectedRowKeys,w=Object(s.c)((function(e){return e.hideColumns})),N=null===w||void 0===w?void 0:w[t||""],y=o.a.useMemo((function(){var e={};return p?e.rowSelection=Object(i.a)({selectedRowKeys:j[t||""]||[],onChange:function(e,n){O(Object(d.d)({tableId:t,selectedRowKeys:e,selectedRows:n}))}},m):delete e.rowSelection,e}),[p,j]);function D(e,t){var n=Object(i.a)(Object(i.a)({},e),{},{active:t});O(null===r||void 0===r?void 0:r.onActiveAsync(n))}function x(e){(null===r||void 0===r?void 0:r.onDeleteAsync)&&O(r.onDeleteAsync(e))}var I=Object(u.useSearchText)(),S=Object(a.a)(I,3),T=S[0],A=S[1],k=S[2],K=o.a.useMemo((function(){var e=Object(u.getTableColumns)(n,{onActiveItem:D,onDeleteItem:x,searchText:T,searchInput:k,setSearchText:A,modalId:t,constants:n,form:v});return N&&(e=e.filter((function(e){return!(null===N||void 0===N?void 0:N[e.id])}))),e}),[T,N]),F=o.a.useMemo((function(){var t=Object.values(b||{});return(null===e||void 0===e?void 0:e.onCallbackDataSource)&&(t=e.onCallbackDataSource(t)),t}),[b]);return Object(l.b)("div",{className:"table",children:Object(l.b)(u.MyTable,Object(i.a)(Object(i.a)(Object(i.a)({},y),C),{},{rowKey:"id",height:"100%",loading:f,columns:K,dataSource:F,summary:g||null}))})}},717:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(40),i=n(11),c={tenNhaCungCap:{id:"tenNhaCungCap",name:"T\xean NCC",width:120,isSearch:!0,fixed:!0,className:"text-small font-weight-bold",sorter:Object(i.sortByText)("tenNhaCungCap"),form:{type:"input",rules:[{required:!0,message:"Ch\u01b0a nh\u1eadp"}]}},nganhNgheKinhDoanh:{id:"nganhNgheKinhDoanh",name:"Ng\xe0nh ngh\u1ec1 KD",width:100,className:"text-small ",isSearch:!0,form:{type:"input"}},diaChiNhaCungCap:{id:"diaChiNhaCungCap",name:"\u0110\u1ecba ch\u1ec9",width:140,className:"text-small ",isSearch:!0,form:{type:"text-area"}},nguoiLienHe:{id:"nguoiLienHe",name:"Ng\u01b0\u1eddi li\xean h\u1ec7",width:100,className:"text-small ",form:{type:"input"}},soDienThoai:{id:"soDienThoai",name:"S\u1ed1 \u0110T",width:100,className:"text-small ",align:"center",form:{type:"input"}},getTableColumns:function(){return[a.a.stt,this.tenNhaCungCap,this.nganhNgheKinhDoanh,this.diaChiNhaCungCap,this.nguoiLienHe,this.soDienThoai,a.a.active,a.a.editRow]},getInputFields:function(){return[this.tenNhaCungCap,this.nganhNgheKinhDoanh,this.diaChiNhaCungCap,this.nguoiLienHe,this.soDienThoai]},getExcelFields:function(){return[this.tenNhaCungCap,this.nganhNgheKinhDoanh,this.diaChiNhaCungCap,this.nguoiLienHe,this.soDienThoai,a.a.active]},getFormViewFields:function(){var e=[this.tenNhaCungCap,this.nganhNgheKinhDoanh,this.diaChiNhaCungCap,this.nguoiLienHe,this.soDienThoai];return Object(i.getFormItemViewFields)(e)}}},934:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),c=n(54),r=n(660),o=n(217),s=n(40),u=n(668),d=n(717),l=n(666),h=n(5),b=n.n(h),f=n(9),p=n(11),v=n(659),m=n(367),g=n(344),C=n(14),O=s.d.nhaCungCapModal,j=function(e){var t=e.onAfterAddFinish,n=Object(v.a)({Instance:m.a,onPending:g.d,addSelectedId:g.a}),a=Object(c.b)(),r=Object(c.c)((function(e){return e.form})),s=r.modal,u=r.datas,l=i.a.useMemo((function(){var e;return!!(null===s||void 0===s||null===(e=s[O])||void 0===e?void 0:e.open)}),[s[O]]);function h(){return(h=Object(f.a)(b.a.mark((function e(i,c){var r,s,u;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=!0,s=Object(p.convertMomentToString)(d.a.getInputFields(),c),!c){e.next=16;break}if(i.id){e.next=11;break}return e.next=6,a(n.onAddAsync({validatedValues:s}));case 6:r=e.sent,null===t||void 0===t||t(null===(u=r)||void 0===u?void 0:u.id),r=Boolean(r),e.next=16;break;case 11:return e.t0=Boolean,e.next=14,a(n.onUpdateAsync({currentData:i,validatedValues:s}));case 14:e.t1=e.sent,r=(0,e.t0)(e.t1);case 16:r&&a(o.a({modalId:O}));case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return i.a.useEffect((function(){}),[]),Object(C.b)(p.MyModal,{form:!0,title:"NhaCungCap",visible:l,onClose:function(){a(o.a({modalId:O}))},onOkModal:function(e,t){return h.apply(this,arguments)},formOptions:Object(p.getFormItemFields)(d.a.getInputFields()),formProps:{labelCol:{span:8},wrapperCol:{span:16}},width:700,modalId:O,datas:u})},w=n(327),N=n(25),y=s.d.nhaCungCapModal;t.default=function(){var e=Object(c.b)(),t=Object(c.c)((function(e){return e.nhaCungCap})),n=t.tabsData,a=t.loading,s=t.nhaCungCaps,h=Object(v.a)({Instance:m.a,onPending:g.d,addSelectedId:g.a});return i.a.useEffect((function(){return e(Object(g.c)()),function(){Object(N.f)()}}),[]),Object(C.c)("div",{className:"nhaCungCap-page",css:u.a,children:[Object(C.b)(r.b,{className:"tabs",options:n,activeKey:"all",onTabClick:function(t){if("add"===t){var n=new m.a;e(o.c({modalId:y,data:n.initData}))}else"taiExcel"===t&&e(Object(w.b)({tableId:y,constants:d.a,fileSheet:"nhaCungCap",fileName:"nhaCungCap"}))}}),Object(C.b)("div",{className:"tabs-main",style:{marginTop:"10px"},children:Object(C.b)("div",{className:"aside-main",children:Object(C.b)(l.a,{scroll:{x:1e3},constants:d.a,actions:h,datas:s,loading:a,modalId:y,isSelection:!0})})}),Object(C.b)(j,{})]})}}}]);