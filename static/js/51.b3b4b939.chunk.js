(this["webpackJsonpreact-antd-admin"]=this["webpackJsonpreact-antd-admin"]||[]).push([[51],{1061:function(n,t,e){"use strict";e.r(t);var a=e(34),i=e(0),o=e.n(i),c=e(48),r=e(198),u=e(398),d=e(197),l=e(396),h=e(30),g=e(254),s=e(10),b=e(767),m=e(9),f=e(71),j=e(16),O=function(n,t,e){var a=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return Math.round(100*n)/100}(n/t*100),i=a>e,o=a===Math.round(a)?".0":"";return i?Object(j.b)(f.a,{title:"Qu\xe1 cao",children:Object(j.c)("span",{className:"text-10 text-danger",children:["(",a,o,")"]})}):Object(j.c)("span",{className:"text-10 text-danger",children:["(",a,o,")"]})},p=function(n,t){var e=null===t||void 0===t?void 0:t.tongDoanhThu;return e?O(n||0,e,100):""};function v(n,t){return Object(j.c)("div",{children:[Object(j.b)("div",{children:n?Object(m.formatNumber)(n):""}),Object(j.b)("div",{children:p(n,t)})]})}var D={comXuongBinhDuong:{id:"comXuongBinhDuong",name:"C\u01a1m B\xecnh D\u01b0\u01a1ng",width:120,className:"text-small font-weight-bold",align:"right",render:v},nuocXuongBinhDuong:{id:"nuocXuongBinhDuong",name:"N\u01b0\u1edbc B\xecnh D\u01b0\u01a1ng",width:110,className:"text-small font-weight-bold",align:"right",render:v},comXuongDauGiay:{id:"comXuongDauGiay",name:"C\u01a1m D\u1ea7u Gi\xe2y",width:120,className:"text-small font-weight-bold",align:"right",render:v},nuocXuongDauGiay:{id:"nuocXuongDauGiay",name:"N\u01b0\u1edbc D\u1ea7u Gi\xe2y",width:100,className:"text-small font-weight-bold",align:"right",render:v},comITDQuan7:{id:"comITDQuan7",name:"C\u01a1m ITD Qu\u1eadn 7",width:120,className:"text-small font-weight-bold",align:"right",render:v},xuongCoKhi:{id:"xuongCoKhi",name:"X\u01b0\u1edfng c\u01a1 kh\xed",width:100,className:"text-small font-weight-bold",align:"right",render:v},getTableColumns:function(){return[Object(s.a)(Object(s.a)({},h.a.stt),{},{fixed:!1}),b.a.ngay,b.a.tongDoanhThu,this.comXuongBinhDuong,this.comXuongDauGiay,this.comITDQuan7,this.xuongCoKhi]},getInputFields:function(){return[]},getExcelFields:function(){return[Object(s.a)(Object(s.a)({},h.a.stt),{},{fixed:!1}),b.a.ngay,b.a.tongDoanhThu,this.comXuongBinhDuong,this.comXuongDauGiay,this.comITDQuan7,this.xuongCoKhi]}},x=e(397),T=e(7),w=e(18),N=e(19),y=function(n){Object(w.a)(e,n);var t=Object(N.a)(e);function e(){var n;Object(T.a)(this,e);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))).pathDatas=["quanLyBaoCao","tongHopDoanhThu","datas"],n.pathDeleted=["quanLyBaoCao","tongHopDoanhThu","deleted"],n.initData={},n}return e}(m.AppClass),C=e(253),I=e(505),X=e(61),S=e(70),B=function(n){var t,e=n.dateTimePicker,a=Object(c.b)();return Object(j.b)(j.a,{children:Object(j.b)(l.a,{header:Object(j.b)("div",{className:"font-weight-bold",children:Object(j.b)("span",{children:"Th\xf4ng Tin Trang "})}),body:Object(j.b)("div",{className:"form-input-aside",style:{padding:"5px"},children:Object(j.b)("div",{children:(null===e||void 0===e||null===(t=e.getMonthRender)||void 0===t?void 0:t.call(e))||null})}),footer:Object(j.b)("div",{children:Object(j.b)(X.a,{icon:Object(j.b)(S.a,{}),onClick:function(){a(Object(u.b)({tagPageId:h.d.tongHopDoanhThuModal}))},children:"\u0110\xf3ng m\u1edf r\u1ed9ng"})})})})},G=e(39),H=e(401),k=e(14),M=e(21),R=e(410),K=h.d.tongHopDoanhThuModal,P=Object(i.memo)((function(n){var t=n.pageData,e=Object(c.c)((function(n){return n.hideColumns})),a=null===e||void 0===e?void 0:e[K||""],i=[D.comXuongBinhDuong,D.comXuongDauGiay,D.xuongCoKhi],r=o.a.useMemo((function(){var n=[b.a.ngay],t=[b.a.tongDoanhThu];return[{id:0,colSpan:2+n.reduce((function(n,t){var e=t.id;return n+((null===a||void 0===a?void 0:a[e])?0:1)}),0),cellClassName:"text-center font-weight-bold text-danger"},{id:1,colSpan:t.reduce((function(n,t){var e=t.id;return n+((null===a||void 0===a?void 0:a[e])?0:1)}),0),cellClassName:"text-right font-weight-bold text-small text-danger",render:function(n){return Object(m.formatNumber)(n)}}].concat(Object(M.a)(i.map((function(n,t){return{id:t+2,colSpan:1,cellClassName:"text-right font-weight-bold text-small",render:n.render}}))))}),[a]),u=o.a.useMemo((function(){return t.reduce((function(n,t){var e=(n.tongDoanhThu||0)+(t.tongDoanhThu||0),a=i.reduce((function(n,e){var a=((null===n||void 0===n?void 0:n[e.id])||0)+((null===t||void 0===t?void 0:t[e.id])||0);return Object(s.a)(Object(s.a)({},n),{},Object(k.a)({},e.id,a))}),n);return Object(s.a)(Object(s.a)(Object(s.a)({},n),a),{},{tongDoanhThu:e})}),{tong:"T\u1ed5ng ti\u1ec1n"})}),[t]),d=o.a.useMemo((function(){return["tong","tongDoanhThu"].concat(Object(M.a)(i.map((function(n){return n.id})))).map((function(n,t){return Object(s.a)(Object(k.a)({},t,u[n]),u)}))}),[u]);return Object(j.b)(R.a,{columns:r,dataSource:d})})),Q=h.d.tongHopDoanhThuModal;t.default=function(){var n,t,e=Object(c.b)(),i=Object(c.c)((function(n){return n.tongHopDoanhThu})),h=i.tabsData,s=i.loading,b=i.pageSize,m=i.tongHopDoanhThus,f=Object(c.c)((function(n){var t;return null===(t=n.tagsPage)||void 0===t?void 0:t[Q]})),O=Object(c.c)((function(n){return n.account})).accountData,p=null===O||void 0===O||null===(n=O.paths)||void 0===n||null===(t=n.tongHopDoanhThu)||void 0===t?void 0:t.edit,v=Object(H.b)(),T=Object(a.a)(v,2),w=T[0],N=T[1],X=Object(C.a)({Instance:y,onPending:I.d,addSelectedId:I.a});return o.a.useEffect((function(){e(Object(I.c)(w))}),[w]),Object(j.c)("div",{className:"tongHopDoanhThu-page",css:g.a,children:[Object(j.b)(l.b,{className:"tabs",options:h,activeKey:f?"aside":"",onTabClick:function(n){if("add"===n&&p){if(!p)return Object(G.h)();var t=new y;e(Object(d.c)({modalId:Q,data:t.initData}))}else"aside"===n?e(Object(u.b)({tagPageId:Q})):"taiExcel"===n&&e(Object(r.b)({tableId:Q,constants:D,fileSheet:"tongHopDoanhThuSheet",fileName:"tongHopDoanhThuName"}))}}),Object(j.c)("div",{className:"tabs-main",style:{marginTop:"10px"},children:[f&&Object(j.b)(B,{dateTimePicker:N}),Object(j.b)("div",{className:"aside-main",children:Object(j.b)(x.a,{isEdit:p,constants:D,actions:X,datas:m,loading:s,modalId:Q,isSelection:!0,pagination:!0,pageSize:b,onChange:function(n){e(Object(I.e)(n.pageSize))},onRow:function(n){return{onClick:function(){p&&e(Object(d.c)({modalId:Q,data:n}))}}},summary:function(n){return Object(j.b)(P,{pageData:n})}})})]})]})}},767:function(n,t,e){"use strict";e.d(t,"a",(function(){return o}));var a=e(30),i=e(9),o={tongDoanhThu:{id:"tongDoanhThu",name:"T\u1ed5ng doanh thu",width:130,className:"text-small font-weight-bold text-danger",align:"right",render:i.numberRender},ngay:{id:"ngay",name:"Ng\xe0y",width:80,className:"text-small font-weight-bold",align:"center",form:{type:"date-picker",rules:[{required:!0,message:"Ch\u01b0a nh\u1eadp"}]}},thu:{id:"thu",name:"Thu",width:100,className:"text-small font-weight-bold text-success",align:"right",form:{type:"input-number-format"},render:i.numberRender},chi:{id:"chi",name:"Chi",width:100,align:"right",className:"text-small font-weight-bold text-danger",form:{type:"input-number-format"},render:i.numberRender},conLai:{id:"conLai",name:"C\xf2n l\u1ea1i",width:100,align:"right",className:"text-small font-weight-bold",render:i.numberRender},dienGiai:{id:"dienGiai",name:"Di\u1ec5n gi\u1ea3i",width:200,className:"text-small",isSearch:!0,form:{type:"text-area"}},getTableColumns:function(){return[a.a.stt,a.a.active,a.a.editRow]},getInputFields:function(){return[]},getExcelFields:function(){return[a.a.active]}}}}]);